<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="阿深">
<meta name="keywords" content="阿深">
<meta property="og:type" content="website">
<meta property="og:title" content="阿深">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="阿深">
<meta property="og:description" content="阿深">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="阿深">
<meta name="twitter:description" content="阿深">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/">





  <title>阿深</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">阿深</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">阿深</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-life">
          <a href="/life" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-life-buoy"></i> <br>
            
            生活
          </a>
        </li>
      
        
        <li class="menu-item menu-item-photo">
          <a href="/photo" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-photo"></i> <br>
            
            图片
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/cd58e685/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/cd58e685/" itemprop="url">数据库自动化更新实施方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-04T21:06:06+08:00">
                2017-05-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/服务/" itemprop="url" rel="index">
                    <span itemprop="name">服务</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/服务/部署/" itemprop="url" rel="index">
                    <span itemprop="name">部署</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数据库自动化更新实施方案"><a href="#数据库自动化更新实施方案" class="headerlink" title="数据库自动化更新实施方案"></a>数据库自动化更新实施方案</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>实施自动化后，数据库的更新流程图如下：</p>
<p> <img src="data:image/*;base64,iVBORw0KGgoAAAANSUhEUgAABGoAAAIYCAYAAAA1jQr2AAAgAElEQVR4nO3dvc8kyWEn6O4BIX4AA50jQU3rrIUs4Sy60sjgyaPoCfTOkbGWxllA3tjraC0B1B8wkKcd6wgaGkkmrcNaAi1ZbECyiAH4Yb031bM5ysmJjO/IjMx6HmLY3fVmRkRm1VuV8auIyNcvn3sFAAAAwOneO7sBAAAAAHxBUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0Ah3r9+vWQbY8sa7QZ2jpDG2Jmb1+Lqx3b1doLALMT1ABwuEfHLrdzV7JtbVm15Y/soPY87iu3IWb29tV6eXnpfmwjz9OI9sbc8TkHgLVvnN0AAO5p6Uw9OnEh28dj2++VUWOv/Jawpmf7tu0ZUX7K+lwcXXepmduX+h3ILaN1/yPrG2V7HOt21rR51uMEgAdBDQBDrL9lT3WIenRoeyipv7TNpR3D5fzl7DPq/J35fIx+TRw5KqMmFNh7/kPnZRtatFiHhDWv15ia35m9unK3TZV/9nsOAIQIagAYpiSsKRlhc1W1ncmSbXudr1kCklGd6ZoyR7wmc8ON0OPbsGZE20J1pPYpLXdv3234VPoekmrjnd5bALgXQQ0Ap3q2b7VzR8iMPiexzvLIkUU9g6Q7rFXSc0TW6HMbK7/Ha/aZ3gcAIEZQA8Bpni2kKXFUWFPyeKosz+UXas9Far9ZR4KcuZ4SANyRoAaAoWIdt711NnL2XfbJ2S533xlGaBzdGW+tZ+bwoGZkUK9tR4U1R74u1seZmq402/MPAFcmqAGgu9q1LEJ3dsmtLzdwid09ZlTHnnY1o39qF/FNtWHUqJe9NZ3OCkNap7MZYQMAdQQ1AHQX67iltllvlyon99bfOfvE7HU4Z+iEPsuIhtL1dO4WpI18fnOmXNWsZ1R7B6mUZ3nNA/C8BDUAHCI2kuUKtp3Dlrb3unvOdvsrnc9cuXcIok3NVLGc7XPv/FbzO1FzVyoAuAJBDQDDrUOO0N+Xf6+3TTkjlBh96+u7jxSo7UjfNYTak1q7qeZ1EtsnN0zJrTv3luLbNqTK6n17bgCYlaAGgKFyOoi5j6/L692+WYQ65XcJKa4QUI0Y7VRaTu5aTTUjSmLT+PbWxykd0TT7CKgZXmcAECOoAWCYnA74OpQ5MpTYG9nTUk6P9oyso7Teo/V+/msX9N3TMpqktK7c+mLljXjdLL8vM4UdM7UFAHoQ1AAwRGsncWSHcK9tqU527zsMbZ1xW+aRAVPp/jrc19A7AMvVM3iaLWwCgDVBDQDdld6V6chv6VvWyRjVvplGtZxFp/l8OdPuYiFn72l729+L0PSs1tFwXncAzEhQA0BXtbdMHn374SPqaVHarpnWdanVY9TVs5nlec8NZnq3dxvWtE5VA4AZCWoA6CqnU9T6Tfad7u6yXp8nZ7vQ43friJ55TEcuJtxS3+hzlGrX3oLEudvm1t+6hhQAXJGgBoDDlUyRKJ3mUHoXqb02HSU17euuowJSx1U7MqvVkYsJ96hvpFlfc8IbAO5OUANAVz1HCNR0yNb75I7uqdVrVMOsHeLRYiMwQreKzlXznPacmnN1s4QgZyyuDQAzENQA0FXpyJBRtxCulXOb7O1jtbdPnsEZnfKcc5YKa0ZP++k5jadHvalzNuNrq9bo1+TZI5UAIEVQA8BwrR2joxcDLhmJc/XO3tG35+55O+9RQtPRjgoPYsFUbLHeHnVv6ztTSf3WdwLgbgQ1ABwi1CHKCTuOWI9idGfNCIEvbNuZe17O6lCfUW+qvhFt6nGr615qju/Z1ncC4P4ENQAMlRopUKJ3h+usjmlNvblr/1yhU7o9ltzFeY/seK+nXq0fGyH3uFrX7kmxSC8AzEFQA8BQqekjOSMI1n8fNZpgtHU9NdM6rhDApJQu9LzeL/T30WYPLs56bfSYLrc3wu4Or3MAaPXe2Q0A4Hk8OmGhNTZia0hs9+vVcZ65A35noddAavuHGTrxZ90WPLbdkedk5PHP8PwCwCwENQAcKhS+rB8PbRcqo0en8YiOoUCo3dlT1LZBYc/21K7JctY5GfU7I6QBgP9k6hMAh9gLXkIjZWLb5k6FarnVce9O8Myd0NmDpFRgt6fHLdpjr7/SaXx7d2wKhZW5QcyRazb1fp3MMIJmhjYAQIigBoChchdjzV2/ZBvs5IY6JUpuz311R9+eu7TsktdCj/rW5ZbWWRIchY4tdwHjowOG3LVwctaeOWPqYiqAEtYAMBtBDQBDlCx0WrvAbE1H/siOmU5gvZJztw3lahZrLt2vZIRPaNu9ulKBxhkhTW19sRFIs90BDgBmIqgBoKvS0KW1I9hzu5719+xQz74uSM/21d7J6IhwpmcbasqqXc+mdtvSsKy1/pryAeCOXr/45AMAAACYgrs+AQAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkvnF2A2CE169fv/vz5eVlSNm9yl3amWPEsQAAADAXQQ1TywlF9kKZ7b97hjc9w5qH3GPMtXesIwMsAAAA2glqGKo0YNgro0ewsJTxLGHF3vHd/bgBAACuTFDDUKFQIBaU1IYoJds/tu0RIF3NcsyxYz8qxHmWsAwAAKCUoIYss3asawOX2Y6jRcmIo73tnjG4AgAAmJGghqiZO/DrtoXaeaWFelvO8zJCKHYMsfJnDeEAAACekaCGoHXHftapQnsBxRHBQ044UlpeTM7532vP+vHtNkIaAACAubx3dgOY2+wd+KsvmPtoZ05bU9tsF0pexMIkIQ0AAMB8jKghaLbOe+/bYbe04+yyYuchdYvy2jtfbdsaWwh6vY0wCAAAoIyghmFSQUTOuinbx2qDhZAZwoPQtK3aBX9Lzk3u9Ke9OvfKKGkvAAAAXyeoYZiaKTetIzDW+8fWbOmh9zo16zKXv/cUKzd3atW2rNh2ghoAAIByghpup8eaL6P2PaKO0Do1rWVu5YzImXURagAAgJkJariNvTVSeo3yyJ0GdKalLUtbU7cwD/1sxEgnAAAA8ghqOMWoDv/o0TShsmZYYHjZN7WYcO5+2/23wY/ABgAAYAy35+bWtqNLeqx9E/v5GR515xxbSxu3txE3pQkAAGAMQQ2HGtXBT40K6VFv7qiTUfX00NpGI2kAAADGEtTQxTKqI8eIuxnFymwNJ0r2L9k2dSel7TndjmpJPZ6qL0fLsRt1A+x5/ckPpy3vUVbuf2e07y5lz1Bfq6u1N2WG44m1oUf7zvx9meH85hjRzt7v0UfVdVeln2Gcwxo17Ap1tFOLzqbKO3pExvZ23aVrrORu3zrFKlRPaKRO6/kbEdbsLV4MzOtxgfbyg38YXsfDtp7txWGvtvQ+plRZrRe5ufvXHNPIsnPqbSn3iNdmz3q3+7WU87D3+1JaZu3rc/T5zyk/tk2P9p31Gqupu+Z5POvYYh5t6nneU2XVnOfatuXu2+P9cV1OjhlfC+QT1HCIUSHNXrmp4CMngCkNdUKBRe5ivrFte62zUyM0bWxvVM/eXbeA+SwXzcvfF707+Dnb9b6Av5pRHdLaoOmIjmTMyGAqp5xeoeFDaVl729e0qWcndr1fD2eGcQ8j3/NGlHPm72NvvZ77Ea+flnOXc1zLZ92I9/Zn/gy9M0ENu0oCgVTgcVRIkxOQ7I0A2S6WW9PmknCiJMzZhkyt57NlilbrdqXbAsc56ttOF5TXte3MzPBcxsKu7c97dmjWgWfssVpLObHy9jptuWXHbMs+6zz3lHtMpXJGeNzByAA5d7TV3mMtI2Jq9y/dd9mu9+ii3G1m/J1kn6CGoWpChZpgoGb0S6h9PW4/vYQ1sZE+tXX0Cjj2jh+4jtYLr54dSp7LVaaNnGX9uxVqc8lxpMKR0v1y6r/KeS4x6pjWz0MqxJzlnLYGeXuv6R51545MyXnsKLWjpHqHxg+xMmd5/ZFPUMNQo0KaUfv1DkJyH+9txCgYYA49w5VRHZfQ1IJt5zW03+i2lWgdBp9bXmk9uWXPFsId0ZHLPceh7WpHpuTUu21zTict1VHOaXPqd2qvjpZpc6ntctuwfrzHKIy996Qecl87pSOjRmlZI6ikzJkCwb26WkaDzRBo1ry3cB2CGgC4gG3H5cyOeOmFYOyb5V6dplHfUO4p6XTFvoEuDR1yy049dvTrJ/d8tj6PqddWyWiA0Z21WOdx7xvy1Otm22mL6TWFpeU8p34vljU9UuXs2TvHpcfe+jzv1fmsneqa959Q8FkS/ofO9ZmjA5c/e79/CGvuQ1ADDGPEDvQ3evh+yT4lYcBsIzz2tE5JuYrc0RyhkQ0t025S9T2LpTMV+p0pWQsmpmZEzWyv65xAKHf/Zfvc13FPs53XK0uFLS3hfyz42dv+6Oc293NVWHN9ghoAuIAeF1x7HbNYx7C0U9g6han04rJnZ6u2rJzQ44iL5l515IzEKBmZklvnrIFNzuin2tESqU7nNlRoGclW+vO7yX1v6vm7eqfOcs1Iytg+pe/zR75HHPGc1R7Per+9kXfLY3d6/T0jQQ0APImSjnXpBeT2onz7rd/64jI1TP3Mi8ucaUTrn5WU2zvc2JaTGmlwxAiKHqNpWobu506BKLE3+iWnHT06qqXTn1JypqHVTP1rPc+hfWeZqlKj1/vYqHCi5v3/rBEkR04bOyJQ3/67tM5nGfn57AQ1AEBQ68Xj8u9YZ6u107ktt/fFe+jbyxbb9vUIcHLWXpj5m9WeIxt6ToPYlrsX1oRCyp4d9L11KGL7jDbqPO+V3+qM0Vq5U9pKykkpDY/PcNbIuZneA9efjaPOxyzHSj1BDQDwFTnrz5TuP9JRw9RLbUcSlVyUpwKi0Nox28dr5Yy86RGKpUab1Ix82ZYferxFj9EooX1C/65p94j2pepoPc+p57n1NT162kxOuSNC5BFGBd21I6Nio2nWf+7tm1tebpl7SkfalbSL5yWoAQCScjsardM0aqaXtJRxtL3REbnnbRvQjJjOVDMSoPSc9+rc5pTTa5RBznNRE9LsTQvM7YSmgrySn+2VOeo8b1/nsddz6fSzZZ/R7wWl5392I85ZbVhWM22wNjis+R3uMeqv9LzEPvdSdXEtghoA4Es5HeOSbyRzOzHbDmrLNIGenaTasmqPIdXJaAmxto/Vhgq99AjvUq/F2OuvdQRI6LXWOvKsZyiWGhVXMnJu1HmueT2PCg+fSex53gvEas/n9vdk5udkZNtyRo7V/F6X7Mu1CGqo9vr16y63X06VU1tPr/bNWh9ATznfbK+3bel8tYy4yd3viheuRwYhPcKs1PSsWN0lHe2l41haT4+AYNue2L65IWHusVzlNdz7PKfKio2sWT9+hXM3g+3rMTZSr+U1eeVRRovW38nUe8dVfuc5hqCGao9QYvawZq+smJZ6zgprhERAq9wOcexi++jQ5KiL3iNGnvQYCdR6vKM7CbGRKNttUv+uDaFqznFJSFQbXsXqnrXj1vs85+o9au4oszyPNSO5ln16v77PVvt+cPZoRJ6DoIZmPUKCo0OGvfpSIU6qzMf+sfMR+llLnamygeeVMyVhq3bYdU0bWpTO58+tP7UuR+ib55xycrV+Y320kuko25/XDN8vnRrQ8jrf7l87AqdkGlFou5kDiV7nOSUVLFzpd+Yqep7PbUA70/N1RDtK3rd6np/1eZ/lfFNGUEOzlpEwoZBieWym0KE0TIltvz0nOednpnMBnCe17kjudJL1tr3DlB5rEeSsg5MzvWq9Zk6PqVWhjumIzuiM39imQofc6SgtakYprduw/XvvYHK9z/q111rW7Hqc5z050yxbfs+voGdY13vKY25922lVdxiVkzvNsXS6Zu352bYn9/eGeX0tqPnggw/OaAcRn3766Sn15oYTqe1SYU3oZ7Vr0sQeW5dZGrycGZS01h061tC5SNWz3W7v3Mb2uSrvi/M5633x6nLDh+02oTJC25WsvZF6LHSBW3rxGuow14RZqXJbO6LrunIu1HPrHHUhvvc62mv3mZ2xvaBk3dbtz2KP7ZW9t+9dw4OtlvPcqrXT2WPKYe52e6FWTEtn/Syx969tuLt9/C5qf/dTn1uh57j2iwjmFhxR4wJ4Hmd2EEOd6yPXkokJ1ROaUrTXll5Tn2JBROu52JsmVVLm3vH0fp6eYdqV98V5PHNwVvrNXMn+28AmdSHXOqWjVI+L3pw6ln1yyl32aemM753H2IX69phqptjkBGPrunKCh1m+pc3p/IXChJopUSkjRqrVSk0famlT63kOlXXUyLLUFK7c/bftCG1XMuphhNwAvrWc0vfQ0n3PUvKFRstxbN9397Ypdedg7I6CQc3dO1xX8/bt23d/vnnz5uSWxNWGHOtO/vqxVPlnhwOp0SLLmjWxbWJl7400Kh0BE9p27/zefWRMi2c+9hld5X3xikZfvPWYglRTZ0kHsbTs2jaN/Hlr/aFtczofZ1z8t3Z+SwOm9fZHHe/oETo5HcOR53ldf8257RES55yD3PJSj498Ho/YZ6vl92HEORn1e5nT1tFTPVs/Cx9mCNRJe/2y6X08vqn8x3/8x7Paw8af/umfvvr444/f/X2GDknPznxo+9hiu73Cjl53fSoJikqOIbfcVJmldZaWtX5sb/+7BDzeF+cy2/siAAD0ZDFhiqRuyV0acvS641GqrofcBXxzy8wZ0VI6dSknCKtpCwAAANcgqOFwsZEuvQOHnLVscvcL/Sw3eMkJpWLTvmLtbl3MeSl779biOaNicm5NDgAAQJqghi6OGBkTqjNnqk5t27bl743MyR1hlBNg9FrkeN229f5CFAAAgLlZTJhie+FEy0iV1GiSvZ+FFiJetzHVrpIRID3uttSr/Nz99hZpHvE7fvdRNXc8JgAAYD5G1FCtZp2ZmrVtcsOF1OiWpazeHe6W4KpV7vGEAptQe7dBi5E4AAAAxxLUUGUb0MzSke/RjtYwp2Y0Tc4+PRYT3k6HGhVa3XVUDQAAwGiCGpqcsTZNrVjQEXqsJGjYjqopDSlq7iBV66i7bQEAAFBOUMPT6zny4+ojSdYjYtaPtZYBAABAnvdCDy63E/bf+f/Nart2yVU65UeMJpnlXOyFJbO072rOfi/w3/zvi+R7/ckPDyvryLp6llVTV8/2zVQXADwbI2ootg1plvBj5oVnt9OSeo58CYVWM52LvWBmZNuOCMSA63r5wT+86+g//uwhVVbPuno6ql2pUKW2DWee11mfUwDoQVBDtlj4EAop9rYdKfdOVOttYtum2h+729ORgU2onth5iLVnvd8MQRNwX70621fssC9hVegcjBitsneOauuKtX9dduhnvY5PWAPAXQlqSCrptG+nQh3d4Q+FE3ujZ7Zt3fv5Vm4QtRde5dSdqjdX7Xkvea571w08j9ZRMKEO//LY1TvwZ7a/NEiJbR96HlPPe2obALg7QQ27WkKWdRDRo8NeUsZ625z6c8uuPR+x9ggzgDvK7ejnrNOS6rCHfn6VTv4yKmUtNgolZ+TN+rH19iXhy9nnr6X+0HHunbfcIHDZbu/c1pQNADHBoEbnkYcjApYeIzdG7TuiLL9b1+W54y56dSRj5eQGDSU/76llSk7tei+pUSc5227bHQog9urvMfUp9pz3eP72wqjccnPPWw+mXQEwkhE1AMCpWu5wtO4wrx9L1bHX0a4Nk2oCnJLRM2dLBXzr0UE1bY89Hznlxka71AQ4RsYAcCZBDQBwWan1T3S4v9BjAd/caWil5zwVTJWUmxO+haaclchZSBkAWghqAOAi1h3VbUezdOHd0AiEvY5wrN6cdTvW+5ZOzQlZyhlxd6Q7CD2Preu+5Ly+aqYt1YxSEpAAcHfvnd0AAKBMztSe3uXP4krThc6wnIfSkCYnFMlZ/Dm3vvX2y+iU7X/LcWz/qzmOrdgxlYzcmfl3BYDrMqIGAC4odEefnBErqUWA90bMLNvXTm/Zc1ZH94rBTu6aKrXnNBTKbAOf3FFRuee2xyLH67at973a8wsAC3d9AsjgfZGZ9F5zI1TWukPeq8O719FvXcsktojwdptUebmjRnLVllc6wqVk0d2c8106Fa1G7esqN4wcHdhYqwaAUYyoAQCCRo12qV1jpmZ9m9LOeu+7PtWUVxKmpLbtHSK0hm2tco4nFNjERpClRhIBwNEENQDAV7Teajm37BHln+mMY+lRZ0uY0zLNqnab0iCrZJ9SRtUAMIKgBgD4inUHeVQHdMZFWFuOc8ZOesm0qpLneTuqpubYW+4GVVrPjK81AIgR1AAAX7OeCmK0QH9nntNe9d7hdbEeEbN+rLUMAGgRvD33Y9FM/83xHzCHs98L/Od9cS11Z6b1470Xv221bavO7VijR5TM8vztvdZnaR8AlJh+RM03v/nNd3/+9re/HVZ+r7KXtuYYdTwAPIfWDmhoBEHslsypOy5t94vVuZ4ys+5gX310Rq4jRqJspyb1qjMUtM30/NUs6tyDKVYA9HRoUJMKRfZCme2/e4c3PcOah1RZJYEOAGyFOoWl64vUCHX+c/fba2Oow7+37R30Dmly76C1XVg3tl2qrtD2Rwc2e6FfSM5domYKmwCgKKjpETD0CEWW/UePtgGAWeXe9eaMxxclnd/QLZVz972KkpCm5s5GqX1T081aRkztBW7b/UpCwl63b++1b+5twQGgVVFQEwpEYmFJTZBSuq3RKcCzCL3frd8zc99zt9uty93bVzBOiZaQZd3h79XxPbucmvNRu23Oecspu/Y5TLVFmAEAacGgpmaxxtg+OeV961vf2t02tv9vfvObLotL9lygMqcsC2LCtZz9O7u8R249ApTH++BabltD24XKqymb59brtspHbTNaS9gxuq6R5cxw7gHgiqZYTHjdAQl1RvY6KCGxDsZRStoLkLJ+T9m+x+29Z+69Fy7bz/BeCQAAfN0UQc2jwxDqWBzVodirv6W8GEEOHOeDDz748u+ffvrpiS1pF3pvWT+2vJe1lP/Yv+f7IX0ZoQAAcH9TBDUPe52CK3UWctt6pWOCO7lTaAMAANzTKUHNLN/W9hzZUlvWDOcBntEVQ5uc987YqJicUYpG1QAAwLmyg5pUEBH7eekaCiX1PszSmQh1ilLrRADnmz20WU9pssYMAADcW3ZQU7MwZUuHYr3vXuDRM+zovU7Nuszl77V+9KMf9WoSkDBraLO8hxwR2Mw8quZbP/mLV6/+6v949d2f/dezmwIAcHvWxzvHNGvUhOR0EFo7EUd0Qmrr+LM/+7POLQFKrEObWYQCm+17TChoMRIHAACu4b2zGxCyHSkTupNJ62iavf1nmpL0k5/85OwmwFP7+OOP3/03o3XgMuJ9axvwAADwfN6+ffvuP47VZUTNqKH3R9fbemvbrV5l/fjHP3735/vvv9+lPHgmpVMHQ8HM97///Vf//u///ur3f//3ezWri97vWVfwmz/7+3ejDb0vAgCMYYr5+YJBzcvLS1Ehqe1Lywvt8+tf//pdh+Tx57e//e13f9aU+/DYfykzVMZST2ubU4+nfrZ4dEQ+++yz4vYAeVKjZn7605+++vDDD6vfc44Qes98vNetg5zU+2ZOGTOfAwAAuIOmETVL4NHTEsKELJ2GHlJ1xNrRo55Sj7DmzZs3XcoC0uHMTL9v63A59PgzWkbSzPQ8AQBAD81Tn3oFEQ+pcKRHp6SkjJKwJtWB2na0ep43IM+VwpmQvfevke8nPQNyAAAgrTqo6TXipKS+h/WIl+XfNWXErDsmNccZqmf5+7rDI6yB8ZZbbO8tgjZ7OPMQC0ti7yPr/bzfAADANVQFNSNCmr0yU6FHbiektLOyDWty901t2xoCAe2uEM5s1b5X5OyXE14DAADHKF5M+Dvf+c6rX/3qV0ULSqa2DZX5eOzh8fheGY+fLdutv21e9tmWn9OWvfJT++a0d9u+xz6Pdm/bC/TXGs5YRBcAADhC0YiadeCRK2f79TbbwCN331DbSsvaK3/vuNchTk0dAhqAMV5/8ssv//7yg989sSUAAFCmKKgZEdL02Gdvv15ByF45ghaAeazDGQAAuKrmuz4BwFlywpllIekrrk0EAMDzEdQAcCn/9Ff/89V3f5a//Xd/tkxTNeIGnoHpjgBcXfFiwgDPyPviPP7kf/z5q48//vjd3/8zhNn3i+99MU3ViBq4P1MgAbgDI2oAuKTPPvvs1S++95//joU2j22BZ/Ad0x0BuDxBDQCX9P7773/ZEXt0zJaRMw/b0Ga9LXBnv3z3u76ENQBwRYIaAC5vHcJsQxsAALgSQQ0At7INbQAA4EosJsyUXr9+/e7PEa/FR9m9yl3amaPnsYw8P4Q519dkuhMAAFdjRA1D5YQie6HD9t89w4meYc1D7jHmyG1baftbjrn3+QIAACBMUENUScAQK6NHJ38p49lGk+w9B3uPx85Ly/MprAEAABhPUENUqGMeC0pqQ5SS7RWVKX0AACAASURBVB/b9giQrmLvPJecs5Zw69mCMQAAgDMJam5uG2jM1tmuDVxmO467c74BAACOIai5qdh0mVk63es2htp71kK9NY4Y4bOtI1Rn7iin3NdBbLvakTY9RugY5QMAANyVuz7d2N5ivLOENcsUppGLBpfW3VJeTCzISYVU67Jjocnez2Z4ru/AeQQAAI5gRM1NhTqVM67tcvVwIbedse1CQVVqFEuLdWCXu/1Vng8AAICrE9RwiFk6+z2DqjPW1+kZ4LTcqnvv3yV3nNrutzeSav14bd0AAABXIahhV6rzXzOdJ7cznRM8zNAxP3o0TC8znLs9s4R6AAAAZxDUPJHStV9qFpFtXV9mO3oiVker3uvUrMtc/t7bDGHPcly1r6e9/WIjZpZta+sGAAC4CosJM52c19+I6UM9jaqjdbRO6fo0OXX3tIQ16wBtlvejWdoBAADcmxE1T+IKIxC24UFoxEvLiJIr3LI8pXVETc0oorPOzwyjhwAAAI4mqHkCI0Kao0eMjKq7952weocL25Ckx/o3s4dSo6ePAQAAzOy9sxvAWFfv8K477S0jO1LnYbbRG9vpP0fXfaZ1/We3BQAA4GhG1NzYiJBmVMc5Fkr0GvWSKr9XMFJaRmjK197Pcu60tXd769I2nRnurRcNPrstAAAAR7KY8M2V3g776KlHS92xMltDmpL9S0KBVCCyd8eiUDl79aZu/53T3rN+n2uCwplH0HhfBAAAjmBEzU3l3N2nZuTH0Z3V7e26Szv/udu3TrEK1bO9lXSsHTn1hZ7LGW4HnnN8OfvtncPYqJraugEAAGZljRqyjAppYh3w5WfrESnbKTGpspf9cmxHqpTe8jonhKkdMRKro+Sc9FT7emhdZ6ilDAAAgNkZUXNTpR3Z1NSjo0KanHBlO/pl/Xis7Bwl6+HUTBerWXMld3pTr5AmtmZOqN5ePysdbSSsAQAA7khQQ1RN4FE7gqVm39CaLSXl7JU9aqpNzdSgknPSc9Fli/gCAAAcz2LCRI0KaUbt1+u1O8MojtFB0JFl3YHzAQAAHCEY1Pz5n//50e0AmNqd3xf/6f/66NWf/H8fnd0MAADgVSCo+fTTT9/9+fbt28Mb09N3f/adV7/43q/ObgZwA3d5X9zz3f/+81cff/zx2c0AAABeuesTAP/bZ599dnYTAADg6e0uJvzmzZsj29HV609++e7PxzE8vgG/8rEA87jve8nPvzy2+x4jAABcw61H1CyBDQAAAMAV3DqoAQAAALiS2wU1oVE0d10AFAAAALiX2wU1W4+7PwEAAABcwe2DGgAAAICruFVQE1s82PSnr3v9+vUh5bTWM6L8Xsc+W10AAABc262Cmj2mP4W9vLzcJqzp5VFP7L+Wcs8iKAIAALiOb5zdAM736Mg/QpsWrfunyl6Ckm09I0KIvWOprSvW/nXZoZ/1DNJGPkcAAAD0caug5uUHv/vuz8c0p8coml9871df+fnj8Tdv3pzRtKnFOvCpDn4oSFgeOyoYODOAKA1SYtuHznXOuRfAAAAA3MetgpqQzz777NX7779/djNOkRsi5ExbioUBoZ/1Dg9C07Rio1ByRt6sH1tvXxK+nB2StNQfOs6985aqZ73d3nmtKRcAAODZ3DKo+WLUzC+/HD3zrKNockOMkp/3kpoGFNsvZ9tt+aEAYq/+HlOfYkFEj3O8F0bllpt73lqZcgUAAFDmlkENdWqn8aw74+vHUuXvdeJLwo0Zg4DUaJH1qJOatsfOW065sREvNQGO0TEAAAD9CGpollpX5Wod+R4L+KaOdRtslYyEyZmGllNuTkjWcmewnEWUAQAA+CpBzZNZOs+l0362ljKufuvnUKDRuu5LznouNdOWaqaLCUkAAACuRVBDsStNQ4opvctSbL/t47lrAeWGXbEpZbF2l95laq/s1O3RU9O8rvbaAAAAOIughnfOGBkzsvOeu6ZK7XGH1uXZjsrJHbmUew56LHK8btt6XyEKAADAHAQ1T2gvRGgdTbL+c2/fWHk5twkvfTxUdsmiu7kjTnK1rPfSc7+9xZ9HBDZG1QAAAOQT1DyxmnVmata2yQ0BakKT0uk7R96avCUQ6yHneEKBTeyOUqmRRAAAALQR1DypbUDzDJ3tHsfYEua0TLOq3aY0yCrZp4RRNQAAAHkENU/u6ndt6qVkWlVJ2LAdVVMTUrTcDaq0Hq8HAACAcwlqmN6ZozB61XuHkSTrUTHrx1r2BwAA4KveO7sBnGO7vojO8/gRJbOc472wZJb2AQAAPDMjap7QNqTZjnSYaeTHESNRtlOTetUZCsNmOsd7wczItpleBQAAECeoeSKxkCAUJuxte5TeIU3uXa62C+vGtkvVFdr+6MBmL5gLyblL1ExhEwAAwN0Iap5AScc6dLvm3H17Kglpau5slNo3NSVs71bhsZ+Hyt6Wv96vZORJ6SiVluez5TbrrXUDAADcnaDmxlpClnWY0OuOQjlq2ly7bc6x5ZRde55TbRFoAAAAPB9BzY0dEbCUjNLpUV/r9r327V2OUAYAAIAHd30CAAAAmISgBgAAAGASghoAAACASQhqAAAAACYhqAEAAACYhKAGAAAAYBKCGgAAAIBJCGoAAAAAJvGNsxvA83j9+vWrl5eX6n1z5dTR0pbZLcfWer57nZ/ezx0AAMCdCWpurqSTvKdn5zknAAhtkxu+5NbRW2udsf1ryp4trHnIed4BAACenaDmSRwxkqVnO1IhwfbnSzvPGpGxDUVi5620jTWBy7Jta1gDAADAsQQ1FOsZQuyV8agjFjAs29TUu1duj0BjXcZeHT3KBgAA4J4ENVTZBgYjQoTc8mrq3QtM1lOGSuusnZ40mlE1AAAA1yGoeSJHLOqaqmP789iImdxy934WO4b1FKWc7dZ11QQye+3JLS80zSunzpq6RrEGDQAAQJqg5okcNXpjT2tQsBfelIQpvcOKmqAl5/GaskrblFNPz/NlMWEAAIA0QQ3TCHXUZ5+us54mlbOQ8DMaOYUNAADgbgQ1dFc7CiM1vSe2rszIdqXkrGlToyW4ar0tdy+1ZQltAACAZyWoeUI1C+WWlDFq8dqSqU85+4e0hky5ixGXlLmUu3alUTulU9MAAACemaDmSbXeOjonHDl78dq1ksWIrxAWbEOcksWXS+vp/TyGposBAADwBUENQ4yYDtQy9al0ceErhDUjnb3wNAAAwLMS1HAZrVOftkYESVcPH2Jh2NWPDQAA4AreO7sB3NddO/bPNtqm9/P4bOcPAACghBE1T0pn+Qut66WcdR5TI1xq1pZJnQejagAAAMYT1Dyp1nVZZgt6WtqzhBo1QcT2bk+hdq0f7xF05Nw1KactIXs/bzlHJfUAAAA8O0HNE4p1xmvL6BncrMOGnJEj6z9L1qfZBiihIKL2uHJuSd1zBE9svZ7W262Hts1te+p1sm23AAcAAHh2ghqmEuq47wUDuY/t1RHad/uzlkBq3e6et7netrN1FEzu1K91vTXHEqonFLAJawAAgGcmqOEraqfHxKZS5Xa897ZvudV3j9FDNfZG0LSGNaUjT1JhTelztA1rcvdNbdsaAgEAANyFoIavaAlFQmU95JaXM8Upt7zaBXFz1pNJhQglQUPJuWl9XkLTumoCkZK2lIQ569eLsAYAAHhWgpon0HuB3Jr6e3a8a8tpWVsl9/GSIGj5d48gK2e/mpEwsTJTo3Rq6xDQAAAAz0xQc3M9ptmc3Y4rtWHmYKL3gr1nTSsDAAC4s/fObgAAAAAAXxDUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCS+cXYDAAAAYJTXn/zw1csP/mHK8h5l5aqpc3T5qbp7l/ksBDUAAAAMc0SHfQkktvVsg4pebel9TKmycgKXUJty2riUHTsmocuxBDUAAAAM8+jgh4KU3NEeuQFBznZLW+4aOqSObfvzvYBr6+7nbTaCGgAAAA7Xc/pQrKxnCReWMCV2Ptah2fLvEncJa3IDqrNYTBgAAICgpeO//Fdr1g7xHfUcgdSyfa7W19ZIZ7XNiBoAAAC+Yq9z2jKiYkRHPzaVZ732Smi/0W0r0SsMSK3R01rnUn7uvrOd56sQ1AAAAPA1e53+o6e/lNYXW1C315SX3mu29FhMOLfs2MLL26lRuWWG3GGa1FntF9QAAADwFaEOam4nPqWmjFCnf280TW0dZ+gxTSl0rEcFDHcIY2YkqAEAAKC7vQChxy2g96Y1jV4ct2cAVFtWzoihnHpy6v/oX//+3Z9/97N/CdY3+m5QuSFUaMpbbPtUfdspXqnpdam6StskqAEAAKC7keulbAOC7WiakjVqzhwVkholtP1Zrzpij6999Id/8e7PH7/5MNqGEeewpq6WIK10WlxOXbXnS1ADAABA0uhbGrfehWj59xFr1Cxl9A4o1gHTVaYU5dwWvLX8Rc46SdvwLqddtec8t66S0PJBUAMAAMBpctafKd1/pCPq6llHy9SnEiPaHArdYu0OTcuqrSulpq7QviGCGgAAAKKOHuWRO1oldnvuHDXr4rSUcYaWqU+1dfQyelHoo17XpfUIagAAANg1sjObCjly1iNZd+ZjC83uPdYStPS6E9a6LRxv9LSt7WvViBoAAACqjApp9u6us7dtrP5U23qsUZPab/ZRNVc1+pz2Dtpi9TzkrpsjqAEAAOBrRo6kWS9AG6sjdz2S7T6jF7XdPt5zMd0jAx8jeMYvhhyqK+W9oa0AAADgskrWb4mt4RL62aPs5b9Y/aVtOOo20a3bptaI2Z631LlYh16pdqzvkNX7dtSx10JuOamRVqMCpt7l1pZnRA0AAABfEVr/ZSung783xalXmJJanya3jNSInpzpVSW3g86pJxRW5LYzthhz7mPb8nOew/U2OaFSjqOmJs0U/ghqAAAA6C43fNhuEyojtF1uiJJaTHj5d+7dkfZsw5rcfVPbpkKg2ltZ5/joX//+a2XHRrusg6Jt+2LtSoU+ez/racQUqNxj3Xr98rkuLZjM609++fkJ+N1Xb9++ffXmzZuzmwMwrdcf/vOrl7/5Y++XwOW5/oPryQ0SajrOLaN3WjrruaN8atrXekwp22DhF9/723dhzY8/+LBL2eQxogYAAIBTHLF4a4keU7Ni045ap2q1tqvGR3/4F8PKJkxQAwAAwO0cHYTklCPQIIe7PgEAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCS+cXYDAJ7N6w//+dXL3/zxl3+2lNGzTX/5R7/z6u/+18+j29XU+Sg7V89jWuruXSYAAIxkRA3wFErCgtL9a8pehzUj2lTjoz/7P9+1ae+/2jbFytyW3fs8AwB9vP7kh1U/ay2brxt1vnqWmyrLcx5nRA3wFLYjWGKd/tIRGDWjY5ZtW0fWzCh1PNufL89F6hzc8VwBwJU8OtcvP/iH4p+1lj27mtBhxmN9tKl3WBM7zis/56MJaoCnsu7ohzr8rSNcnj1EWMKU2LnYjiQqPWfOMwDcxxIMrDvsuWHBTJ38krY8y2iSmZ6fqxHUAJeRO/Jiz6yBwB1HiuQeS+3oJQDgPrYd+tk6+KEwaVajR6nklB8Koq50DmcgqAGmN7pjHguAcgOU3HVWYtucHdZ89JN/Sy4mnGN7DDXrzsTOQ870tVgddwrEAODKTH0Jyxlxk1ozKHRea0byfPSvf//uz7/72b8ky18L/dxznU9QA0xrOz2mZdHelNg0nVKpfXoFMr1H4jwWE/7x//Nm9+ctgdleeBN6vOdonLPDLwC4qr1O/frxlvVHtj834uI/5YxYqTlPe+HN9vHtc//RH/7Fqx+/+bC4vlKCu/8kqAGm19LRXgc8pSMxnsnj3Lx9+za5zZ69uz0dQRgDAP3tdd6Xxx//3nboc0ds7HXISzvpOvbzWV4D6+dm/dje9ut/e04FNcDEenW+R61r0hJOtIQLPY9lKevx51/+0e9kT33atj019WuvzbXTxNb13XGNHwCYXWo0TCy0CYVA204915Zad8gIqjhBDfAU1qNpegU3sXDiaqN2lhE1j6lPsdCj9rhKpj7l7htqm7AGAK5lG8z0uP13Tpmhba4eHtSMRlmOe2+/x7Sn0vqFbe0ENQADbEOckgV2S+vpHVCEpovNLue24ABAu70wY4ZwI7auTmq0T2u4MCKcSC0YvPf4Gc9FbAHjGV4bVyOoAbigo24b3kvL1KcSQhoAGKtnp3vUyIvU4rih7VrbUnJecut6xoBDsPMFQQ3wNO4w2uKq035apj7V1gEAtEkFCi3hxpHTZHLuLnWVKTsjgozU9KfaNsUWEd5uk1PeMxHUAFxc78WSr7a+DgDQX+guT1vbO0CVrCEzsiN+9bVmUkadv563/Y49vtSV2uaZvXd2AwBGWtYtOTp8SNVXE66k1o0RsAAAvTw60Dmd6HWAkzMiZWRIs21z6BbiV5GartV7nR2ByVwENcCtPUKNJdgIBRzbKUM9ps+k7prUsl7LXrnru1r1cOQ0orPCNACgj3VAElvkdtn2yPbE2nQV28ApNoJlxkWRKSeoAW6jpLNfc1vo3DbE2rYOjmLb55bbum3qPGzP6bb9e3XnjBhaB2i55zrn2AQ/AHCO2UZlzNaeXKFRR6ljWQdhVx5JxBesUQNMLdTZ3gYHLWWvw4JeC/JuQ4rYKJicW0rn3ip7XW/NsXz0k3/7Wj2hkTqpqVc55zT3sW352/bEypl9gWUAuLpUoHD0orAt6+RcLdjofV63QQ/nEtQATynUie8R1sSmWe1tHwtrckOabXml+z62/cs/+p1kqLRsm3sXp5aFjmOhTGyqV+g52G4nwAGANqlQZN3hPzKwSYUM23YdVe+R5ZSGLbFpaR/969+/+ugP/6K5TZQR1ABTK+lQl0yf6TnVZqm7darNtl21oVFJW9YhyNu3b5PlLvuUrO1TOtWrJOwJlR2rQ0ADAMdpGZ1Rs1+ovlD4sLfdUYvxzjJiJXfdoEdY83c/+5esbelDUAM8hdzpMC0jQmpDgO3okNJRNHtlpkbprLcrLbulXaP2E8IAQH+hRWxrRsiU7pNanDi1X6/tSrdttVdXz/NQsrDzMppmCWrcVvsYghrgqdSOUDlC6bSp3PJyHwcA2FpGmqxHnPQOOXKmUN0pGCg9ll7H3hKytIR0qTL5OkENAAAAu5YO9YiOdWuQM4PZ27fo0c5ez9dVztlZ3J4bAAAAYBJG1AAAAPD0jPJgFkbUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQA3Axrz/856qf9Sgf5wcAgLEENQAXJKz5qqPae7XzAgDA9Xzj7AYAMI8liHj5mz/+2mMp632O9qj70c6adq/LAACAswlqAAJCgcWz2B7zTOcg9bysw5rtNtsgp7bu7d9zzXQeAQCYl6AGuIRZg5NZ21Xjo5/82+WPY3T7a8pvDYgAAHgughqAye2N3lg/HgsCcoKCxza/+G//5WtlXylgCLV1e+72zmXO+QEAgCMIagAaHBFkhKbwrB9//Ds3kIjV8fbt22i9KTOOHNmuWVMzHeqKoRUAANclqAG4uNACui2L6q7Di7uMJGk9DiENAABHEdQAlxbqgMemwCx3B0ptn6pvG2TERr3k1NfSpp5y25E7eqb22HNHseQ+/7VKQyuBDgAArQQ1wGXF1m6JBQyt9dUEO6U/b5mSM0NYkHtcoe1KnqPU1Ka9bXPbVnJu7zL6CACAcwlqgMsLdfxjnfbtCInR65Tk1Lc3Iien3F4ed33qLfe4WqZqhZQEQNvbbu/d3hsAAI4gqAEuKTaaJNbRX2+f2jZVV46a+kJ11Y7MybXc9env/tfPm8pJSa2ns/zbmjIAADwrQQ1waaOnmxx1x59YPXvr4qxt7wBV2t7QXZ96cMckAAAoI6gByDDq1tOhaVHrx7d/j9mbwpO7T085x3WU2lFMLWUBAEAtQQ1waaM7/j2m4eTW81Cybk6qnL0ytuuwjDy+XsfVqx0hJW2ymDAAAKO9d3YDAGZXcnvmXnXNUk4vR7fnjNBktnMOAMA1CWqAKaU62qnwZFRHvXe5vcpL3Unq6OCipL7ttj0WRh45TQ0AAEYy9QmYVm6H/aiRLrOGP6lgYt32I6ce5YRt2zVsRtcJAACzE9QAUwoFI3sjRmJ3QRrRpp5hR85xjqqnROm+uce1t11LW2N3zhoptGCy4AgAgFKvXz53diNGeP3JL1+9/OB3391u9s2bN2c3B6DZutO/Dqlq7gq1DROW23N/97///Gs/zymjt553iUqdo96jjI4I3oAw138A7V5/8sMv//6L7/3tuz+9px7LGjUAF7G9U1NpwPDYdvkvp55UGwirubU6AAAsTH0CuJDRQUlOuVcLH1qCqVF1AgDAHiNqAAAAACZhRA0A0zEiBQCAZ2VEDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTENQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwiW+c3QAAAADgWK8/+WFym+/+7L9+7bGXH/zDiOawYkQNAAAAPBmBy7wENQAAAECWt2/fvvuPcQQ1AAAA8IRKR9X84nt/O6glrAlqAAAAACYhqAEAAACyvXnz5uwm3JqgBgAAAJ5U7vQn056OI6gBAAAAmMQ3zm4AAMd6/eE/Rx77+auXv/njYxsEAMBlmPY0nhE1AE9GEAMAwFpq+pNpT8cS1ADwFW/fvn33HwAAcDxBDQBf+sV/+y9nNwEAgEmZ9nQMQQ3AEzL9CQCAtb3pT6Y9HU9QA8DX+LYEAADOIagB4B3TngAA2OOLvOMIagCelOlPAACsbac/mfZ0DkENAF/h2xIAADiPoAYA054AANjli7xjCWoAnpjpTwAArC3Tn0x7Oo+gBoAv+bYEAADO9Y2zGwBwVR988MHZTejiTz7/70c/evXq+9///quf/vSnZzenyaeffnp2EwAALn+d+Cef//ejz/93h+vDxZWuEwU1AA2u9Iaf8vbt21d//dd/fXYzql39gggAuJc7XCde/fpwcbXrREENQIOXl5ezm9DNH/zBH1z+eB4XEw+mcAEAZ7v6ddXDHa4PF1e6TrRGDQAAAMAkBDUAAAAAkxDUAAAAAExCUAMAAAAwCYsJAzS4y+JqAAD05TqRWkbUAAAAAExCUAMAAAAwCUENAAAAwCQENQAAAACTsJgwQAOLxAEAEOI6kVpG1AAAAABMQlADAAAAMAlBDQAAAMAkBDUAAAAAk7CYMEADi8QBABDiOpFaRtQAAAAATEJQAwAAADAJQQ0AAADAJAQ1AAAAAJMQ1AAAAABMwl2fABpYzR8AgBDXidQyogYAAABgEoIaAAAAgEkIagAAAAAmIagBAAAAmITFhAEaWCQOAIAQ14nUMqIG4Oa++c1vfuXP2V2lnQAAo4y4HrrDNdYdjiGHoAZgkNYPkr39a8p97PPb3/72kA+3WB2Pn6XacFQ7AQCeyQzXWK4T85j6BDDI8kHy+PMh9qGybFNTbu4+pfse9SFYEkiVHDMAwBWUXteNrM914hwENQCDrT/wQh8gtR90vT/Ut+3I/ZBubcM6yLrTBywAQErPwKOkrNTIlu01mevEYwlqABqkFon7zW9+85Xt9rZfHv/Wt7715T455ecuUrfe7lH+48NuXc+6rUs7UmU/tilpw157Uu3anhMAgCsouUYKbVt6jRW6Xqq9jtrW7TrxWIIagBMsH161H6jbD8vc+krrSRn9wZhzbAAAV1Z6PVVyDffYLrb9yKDDdWI9QQ1AZ7kfeHvblH6opbYf8QFc8sG4FxI9tJwnAIArW66H9q6rYtdbpdd3R448cZ3YTlAD0NnyzcXy94c7J/4podE/yzmKfTjv/fuuH8gAwPM5Y6TLkXWkuE4ME9QADLAOa3oJlZf7YZT6IE59EI740LvLBykAQKkjv8QruS4NXTO6TjyeoAZgkPVomh7BTWxdmp5lL+WlvuFZD9dt/TDNbf+zf2gDAPcx6rqmZCpVzjqGrhOPJ6gBuIFtiJPzTUiNvVE9oxcmnmFoLgBAD0dc15xx3eQ6sR9BDQBFQh+EoXV5Sj3zOj4AADlmDyVcJ/YhqAEYaPYP0xKpY1kv/FZzzKVr6AAAXFFsOvtabArTbNeXrhP7EtQAsGvkQnGt36wAAFxd77s+HRlauE4cR1AD0ODl5eVrj33729/e3abl77H6H3X++te/3t3v8bPHB956m5Rl+6XsUFtC9Ty2T7V73ZZl29SFRapMAICZtF67tOw/+rrJdeJYtw5qXn/yy8///zuf//fLs5sC3NFf/c/gw8sHyzY8WWwfLwlPQvbqWX62V8d2v3XAlDqGmO32oXL39lu3d133NvwK+afPn4/v/mz5l/d9AIBern6deDW3DWpefvC77/58+/btqzdv3pzcGuCOPvjgg1ev/u//N3v70AfT9rHSD7u9D6a9gCYWHoXa0BoiLWWkPshTdeZcEPzJ//jzVx9//PG7v3vfBwCeVY/rt7U7XCdezW2DmrVHWAPQ2/e///1X//Ef//Hu77/3e7+Xtc/6AyTngynH+huG5d+x7XoERDVtPMpnn312WF0AAHd3p+vEq7h9UONbVWCUn/70p68+/PDD7O33ApKWsGYd+uRu/gwk8QAADTRJREFUvxfWnK1Xm95//33v/QDA7YWmsc92fdfLnY8t5PZBDcBIuYv9fuc733n1q1/9anf79eOPbVPlP8p6bNeycNrjA+9RToseC7ctxxs6P6E29mg3AMBooeuk9XVeSs7aK9s6ZlpU13ViPUENwCDLh8QS0qS2W/8750O89kNo3a6zrOveO47lPGzbeYcPXwDgOY26jkldb16J60RBDcBwNR8YR3zItNbRsn/uvnf5sAUAGGm2aybXiW3eO7sBAAAAAHxBUAMAAAAwCVOfABrMtGAbAADzcJ1ILSNqAOBgrz/856qf9Sh/hHV9o+o++piehfMKAPMxogYATvDoIL/8zR8X/6xH+SM96lw6/73rrzmmvbaMamMvRzx/I0Kalnbn7jviuas5F7O+dgC4PkENANxIqBOb2wnt1fFcwpqzwqJQe0oen8FyDmuex3UZZ2gJgHJeM6NeXyVlGYkEwEiCGgC4mW2H86wOeyhsWOR0dEe1e6k71oajzllqdMj6/IVGBbWMXgn9PVfsOa1pU+m+y3azhIEA0JOgBqCBReKeQ6gjO2PncFSnNacjH9pmHYikwqOjp3vFgpGZjHyd1QYqo9pUU24sDAQ4m+tEaglqACBir+Ne0jmMlbGIlZVT1940mZ7TmWJ196yrVk6nPWch57OPY5EzEmnveGrPQa29KXe5a87Mcs4BYAaCmlf3WtDxqLpcVH3hKudhZOej5zko6Txc4bxzH3sL0ea+/lML2S7rbYS2ybHXjpqFd2f53coJtxa5o3PWj48OtkZJBSG5QVXv4zx7PZyZXrsA0EpQ87/dKawZ7ahh4TkXkz3a0vot9pFyv1V/yJlmEHp8VLtK5B4jHGEvAOn5OkwFBqm6Yp31M39fWt4bct6z9kKb0EKzqc/5UJ0za3lej/pCZ/1nzvZXOv8AMJKgZrAZ7r6Ro7QTUFN+yS03S/VYTLG0LTXf4vXoMPW6mN124lwgwz1s32dGfgmxrqPHFLGcemq33ft36XtgzvkNbZNbz8j1kEoDvJ6fNSP1Dk4B4GyCmgOMuPvGUUOXa+a+722/N8y8pdzRUu0pvetE6V0yap/n0s6MC1wo0+s9OHcE3AxKPw/ODIFLQpfc6U+5QVRsUeUcJWu8lKxblLOg83bfVqOf+9B0wZY6fRYCMIvLBjW53xieaaZhvKWjPo5s9yzn6A6OHpGE1fyfxahguffv3siOZm6QfwWxQCY3oN+WFduu12jKnMe2jy+f6Xd9n1+Oq8eXDiXn6Mqvf+A4rhOpdbmgpsfQ6pwLm9Z1S45apLD0wq01rMmZc36Hi8HUAo3bn4dGDB1te2Ee+3nK2c+hC2CuoPR3Pnc6ZWt7jvz9SS1kO9t7yYjP4pzP+qNDhLOVrk+z1uNa7krnCgBCLhfUPOx9m1U7/WR7YbUsQhjaJsdeO0ovHGqGPB9xgVJb71EXTiPW28mdy3/mBeJe/UdMP+h97DVrOMBIe+97petvxdYH2X4GlYZAZ3dO12FE79/Rmi8HtsFVKswO/aznlNRnUvOZUPMaHhGIAcAMLhfU7AUgPT+YU9+OlQYBpYv3pZx1Qb6+6O05pHtEsNISYqWCtlg569fiTOsyXKVDkdvOqxwP97b8vvcMqkNTVnL2mfF3orZNe0FJa6e/9VxuP8fPfK/P/dw9M/QeeV5yRqfN+DsBALkuF9RcTe5aOne8qMhd0yF2To62921wTkiz3nY9KmvE8zrL66Xnc2R9HfhCzsia9eOjfwdKfzdLp6TUhFOpukunJ5cIBTYzBfMPtSOMt2WM1HreUl+YzPI5CQA1BDUrsbnls4hdeORcVNVeuNRMw9qbglPi6HOfsy5NzgigVGckJHcofqhtKblTt86WWu9i+7MZWCSOUWaaxjEqcM4pf1SHu0dQcOTzc3TwUDNdu1TNMQlggCtxnUitWwQ1vUYu9P7gHzVHv6XDv/y8dJj+qIuis9d1ydXj2+tU4DBiLYT1/jnfZrcY8VyePZUMHkp/d2pfs6npOrO8V+aE1b2mhJW+P5VMn6wZKVQSjveeItz7uZ+9vJCSkUJG1QBwZbcIamq0hh055Y9cOydV58gLk951hDrjM1xcHTm1YKTW4e8j952pDoiJvZf3eH3mjFo8e6rNti05I+Bin0slocoItaNLU2XmfqnSq847GDEiuGYa8jOcawCu4fJBTc03l6FQYCtnjYBY+TNeRI/Qq57Yc1Fj5LeXV5lGFFpnp+e3vKXrUMBVxUL3o6eijPidTe2Tmtoa+hxuDSxCZeZ8do8UOv9752bv/bel7q0j1pDZ1n1WkFH7uRJ6HZZO4461CQBGuXRQUzu8vGZdj9yLhLM6qXe5YOg1Cqnlonavc7HthMT2LXXmN8ajpir1cJfXNddX+k3+ntC6LEet0zEi4Ii1o7a+VDiUu7ZNSX25RowCqg0Ocl9ntfaev16fGbnl9lpLyBcIAFzJZYOao9atyBlZM8sUmdC3mbXtSZ3fHt/sps5l7+d4VKB3JevXxcjXxzNdFFskjhLb38HlsZL9W7fL/f1PbVOyXkiu3HVtek+/za37GdW+VnPKfUiNYO05arcnrxUgh+tEar13dgNqHBXSrM38gRwLTHLDlMfxrS9+1/8+yvaCrPbb2Nbnajn2I4w6v6lvuUeNWlo/3uvYZv7dgxrrYP+sDmSPbc7s/B4dbs3m6Odm5Odir6lII9sBAEe7ZFDzUDJ9qde8/Bnmae/JHSZeU25o/9bRGNtzmbMOwplqX0c5eh9jzrfgreWP2Hbb5u2+2+fgyEANAADgKJeb+pSzOGFr5y3V0V2HF2cPlc5ta49h7qHtSobQr9tUWucZeq+DECr/6GNfj0ZbBx8lwWfO9q2/I3uLk65/ltMOgFl4vwIAcl0uqJlFjzVaWpR0sHM65TkLQu5tl5q/vrfuTM/1DUYtYBubN99ax5HhTyr4yHk9lYY627Amd9+S9ZFmDvoAAABqXC6o6bkg7FXvvlFb316nuWRETKrzvA1itvtsjztnUdptPXv119g7/7Xz/3OezyNDmpyAJPTa2O5T2+aSQLM0fFz2OTussUgcAAAhrhOp9frlyV89LXffKCm/dZtlu4eWNh4VRJWWnyN3pMhoLXeoKD2Xtee+9ryE1g+qKSdV7rb8HnWc4YMPPji7CWx8/PHH7/588+bNyS0BAJ6Z68T5XOk68emDGoBWb9++PbsJbFzhAxgAuD/XifO5wnXiZe/6BAAAAHA3RtQAAAAATMKIGgDooNfd51LlHFVPT+vF5kv2OdLR9QEA7LncXZ8A4O6OupvZUfWU3AEuJVXO0Qvu93D23esAgLkIagBgIkuoEeq89x71cdVwIHbnvZYy9877uvxRz4mwBgBYCGoAYLCenfAe5aTak/PzmNkCh57TrrbnJuc8zXY+AIC5WUwYADL0GDlR0mHfBgJ74UlOCFTb9p4BQ6/w50ohUY+ALnS829fF9rFYOaHzmBqhNNM5BYBnYEQNAGTI6QjXdGhTozdyts2puyUkqhFqayx0CE0p2mtDr6lPsSCi9RzsTZMqfR5yy25h2hUAzEVQAwAnKgkJrtKhzgkpzr7LUmq0yHoB5NJzvvc8lZQZG/GyF4IZGQMA9yCoAQCy5QYs6+CgdyjTq7zcUUglQUcqTCstcy/wWf999CLKAMCxBDUAMNAsHeBR4cbo0Rqh8ntMy6qZytayCPNR05gAgOsT1ABAgZI1ZdaPn90Z77E2ylH1r9ux3a91VMt2pE9O8JIzamX5+d52tevq5K4/lLqle2qUj1E1ADAPQQ0AFJixI3t2B7t33etwoTY02lsTJzRtKGfR4pxj7LXI8bpt6/1nfO0BAP0JagCgUU1QkjtCo+TxozvyPevcLp6bE06U1D96RFHteShZz2ZkYGNUDQDMQ1ADAB2UdnBrAojZO9Et7UuNbmktv7TeI85z7vGEAptQe7dBi5E4AHBNghoAyJS67XLNArRHGXHnpb2woPY23D3OU+v5rjlPOfv0GAm1nQ41KrSa5TULAM9KUAMAFbajFfbWU8kZKXKEnlN/YiN+Qj/PWQOmtk2hx2tGN633KX2uau4gVav1dtwAwPwENQCQoWZ6TOiuQUd26keI3d1oO+XmCD3P1eznPmU9Imb9WGsZAMCxBDUA0MmVO/m5SkYI9Q4+jhidNEtYsxfsCVAA4P4ENQCQ0KNznDNlZZaQICXVxt6BynZa0oi7Ta1HA820CO/ea2Zk20yvAoBzCWoAYAJHjBQ5yt6iyg+xEGDZL9XW7aK6se1K23lGYBOqJ3YeUrf0niloAgDKvX753NmNAICryQ0+ek4Rqu2Al4ZALaFRbN+ctVO22+TcsjukpQ2p8ketxSNYAQAeBDUAcJLS4KU2QDkqqMnZr6TskVOcassQpgAAowlqAAAAACbx3tkNAAAAAOALghoAAACASQhqAAAAACYhqAEAAACYhKAGAAAAYBKCGgAAAIBJCGoAAAAAJiGoAQAAAJiEoAYAAABgEoIaAAAAgEn8/7zZ2XnGg1DHAAAAAElFTkSuQmCC" alt></p>
<p>实施自动化后，更新数据库的步骤如下：</p>
<h3 id="1、开发人员编写sql语句，并提交至SVN；"><a href="#1、开发人员编写sql语句，并提交至SVN；" class="headerlink" title="1、开发人员编写sql语句，并提交至SVN；"></a>1、开发人员编写sql语句，并提交至SVN；</h3><blockquote>
<p>注意：分数据库保存文件，不支持在已经被执行过的sql文件中追加语句；建议命名规则日期+数据库名，例如20170504_jdh_order.sql</p>
</blockquote>
<p>地址svn://106.75.44.22/JDH/B2B2.0/db/sql</p>
<h3 id="2、填写t-txt文件，提交到SVN（先update，再commit），通知测试人员何时执行到测试环境；"><a href="#2、填写t-txt文件，提交到SVN（先update，再commit），通知测试人员何时执行到测试环境；" class="headerlink" title="2、填写t.txt文件，提交到SVN（先update，再commit），通知测试人员何时执行到测试环境；"></a>2、填写t.txt文件，提交到SVN（先update，再commit），通知测试人员何时执行到测试环境；</h3><p>地址svn://106.75.44.22/php/php1/db/list</p>
<p>第二步：测试人员执行Jenkins任务更新测试环境，执行完成后测试人员反馈执行结果；</p>
<p>第三步：运维人员提交p.txt文件，执行Jenkins任务更新生产环境。执行完成后反馈执行结果。</p>
<p>地址svn://106.75.44.22/php/php1/db/log</p>
<p>文档剩余部分将对每个步骤做详细说明</p>
<h2 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h2><h3 id="SQL编写规范"><a href="#SQL编写规范" class="headerlink" title="SQL编写规范"></a>SQL编写规范</h3><p>在sql语句之前添加use database语句，选定目标数据库；示例如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">USE jdhui2;</span><br><span class="line">SET FOREIGN_KEY_CHECKS=0;</span><br><span class="line">DROP TABLE IF EXISTS `sys_cron`;</span><br><span class="line">CREATE TABLE `sys_cron` (</span><br><span class="line">  `cron_id` int(10) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `cron_name` varchar(100) DEFAULT NULL COMMENT &apos;任务名称&apos;,</span><br><span class="line">  `cron_class` varchar(100) NOT NULL COMMENT &apos;定时任务处理类&apos;,</span><br><span class="line">  `nextcall` int(10) DEFAULT &apos;0&apos; COMMENT &apos;下次执行时间&apos;,</span><br><span class="line">  `interval_number` int(10) NOT NULL COMMENT &apos;间隔时间&apos;,</span><br><span class="line">  `interval_type` enum(&apos;seconds&apos;,&apos;minutes&apos;,&apos;hours&apos;,&apos;days&apos;) DEFAULT NULL,</span><br><span class="line">  `is_show` tinyint(4) DEFAULT &apos;0&apos; COMMENT &apos;是否启用&apos;,</span><br><span class="line">  `cron_status` enum(&apos;1&apos;,&apos;0&apos;) DEFAULT &apos;0&apos; COMMENT &apos;任务状态（0-正常，1-正在处理）&apos;,</span><br><span class="line">  `start_sign` int(10) unsigned DEFAULT NULL COMMENT &apos;开始标志，可以是时间，id&apos;,</span><br><span class="line">  PRIMARY KEY (`cron_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 COMMENT=&apos;定时任务表&apos;;</span><br></pre></td></tr></table></figure>

<h3 id="SVN目录"><a href="#SVN目录" class="headerlink" title="SVN目录"></a>SVN目录</h3><p>将整理好的sql文件统一提交到SVN，地址是svn://106.75.44.22/JDH/B2B2.0/db/sql，同时将需要更新的文件名写到svn://106.75.44.22/JDH/B2B2.0/db/list/p.txt或t.txt文件中，每行一个文件名，行首尾不要有空格，后缀名也要写上，比如a.sql；p.txt代表生产环境t.txt代表测试环境。</p>
<h2 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h2><h3 id="测试示例"><a href="#测试示例" class="headerlink" title="测试示例"></a>测试示例</h3><p>使用Jenkins更新对应环境的数据库</p>
<p>开发环境Jenkins名称：数据库更新开发环境</p>
<p>测试环境Jenkins名称：数据库更新测试环境</p>
<p>生产环境Jenkins名称：数据库更新生产环境</p>
<p>以下为一个测试示例</p>
<p> <img src="data:image/*;base64,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" alt></p>
<h3 id="自动化脚本"><a href="#自动化脚本" class="headerlink" title="自动化脚本"></a>自动化脚本</h3><p>脚本功能说明：</p>
<ol>
<li>1、从SVN下载sql文件和t.txt、p.txt文件名；</li>
<li>2、根据t.txt或p.txt的内容执行相应的sql文件，执行成功将其输入到日志文件，执行失败直接打印到控制台；</li>
<li>3、生产环境每次执行完成之后备份已执行的sql语句，并清空测试环境的执行日志。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/b8271372/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/b8271372/" itemprop="url">Mysql索引介绍及常见索引的区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-26T15:05:23+08:00">
                2017-03-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/mysql/" itemprop="url" rel="index">
                    <span itemprop="name">mysql</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="Mysql索引概念："><a href="#Mysql索引概念：" class="headerlink" title="Mysql索引概念："></a>Mysql索引概念：</h5><p>说说Mysql索引，看到一个很少比如：索引就好比一本书的目录，它会让你更快的找到内容，显然目录（索引）并不是越多越好，假如这本书1000页，有500也是目录，它当然效率低，目录是要占纸张的,而索引是要占磁盘空间的。</p>
<h5 id="Mysql索引主要有两种结构：B-Tree索引和Hash索引"><a href="#Mysql索引主要有两种结构：B-Tree索引和Hash索引" class="headerlink" title="Mysql索引主要有两种结构：B+Tree索引和Hash索引."></a>Mysql索引主要有两种结构：B+Tree索引和Hash索引.</h5><p>Hash索引</p>
<p>MySQL中，只有Memory（Memory表只存在内存中，断电会消失，适用于临时表）存储引擎显示支持Hash索引，是Memory表的默认索引类型，尽管Memory表也可以使用B+Tree索引。hsah索引把数据的索引以hash形式组织起来，因此当查找某一条记录的时候,速度非常快。当时因为是hash结构，每个键只对应一个值，而且是散列的方式分布。所以他并不支持范围查找和排序等功能。</p>
<p>B+树索引</p>
<p>B+tree是mysql使用最频繁的一个索引数据结构，是Inodb和Myisam存储引擎模式的索引类型。相对Hash索引，B+树在查找单条记录的速度比不上Hash索引，但是因为更适合排序等操作，所以他更受用户的欢迎。毕竟不可能只对数据库进行单条记录的操作。</p>
<p>带顺序访问指针的B+Tree</p>
<p>B+Tree所有索引数据都在叶子结点上，并且增加了顺序访问指针,每个叶子节点都有指向相邻叶子节点的指针。<br>这样做是为了提高区间查询效率，例如查询key为从18到49的所有数据记录，当找到18后，只需顺着节点和指针顺序遍历就可以一次性访问到所有数据节点，极大提到了区间查询效率。</p>
<p>大大减少磁盘I/O读取</p>
<p>数据库系统的设计者巧妙利用了磁盘预读原理，将一个节点的大小设为等于一个页，这样每个节点只需要一次I/O就可以完全载入。</p>
<p>为了达到这个目的，在实际实现B- Tree还需要使用如下技巧：</p>
<p>每次新建节点时，直接申请一个页的空间，这样就保证一个节点物理上也存储在一个页里，加之计算机存储分配都是按页对齐的，就实现了一个node只需一次I/O。</p>
<p>B-Tree中一次检索最多需要h-1次I/O（根节点常驻内存），渐进复杂度为O(h)=O(logdN)。一般实际应用中，出度d是非常大的数字，通常超过100，因此h非常小（通常不超过3）。而红黑树这种结构，h明显要深的多。由于逻辑上很近的节点（父子）物理上可能很远，无法利用局部性，所以红黑树的I/O渐进复杂度也为O(h)，效率明显比B-Tree差很多。</p>
<p>1、选择索引的数据类型</p>
<p>MySQL支持很多数据类型，选择合适的数据类型存储数据对性能有很大的影响。通常来说，可以遵循以下一些指导原则：</p>
<ol>
<li>越小的数据类型通常更好：越小的数据类型通常在磁盘、内存和CPU缓存中都需要更少的空间，处理起来更快。</li>
<li>简单的数据类型更好：整型数据比起字符，处理开销更小，因为字符串的比较更复杂。在MySQL中，应该用内置的日期和时间数据类型，而不是用字符串来存储时间；以及用整型数据类型存储IP地址。</li>
<li>尽量避免NULL：应该指定列为NOT NULL，除非你想存储NULL。在MySQL中，含有空值的列很难进行查询优化，因为它们使得索引、索引的统计信息以及比较运算更加复杂。你应该用0、一个特殊的值或者一个空串代替空值。</li>
</ol>
<p>2、选择主键类型<br>选择合适的标识符是非常重要的。选择时不仅应该考虑存储类型，而且应该考虑MySQL是怎样进行运算和比较的。一旦选定数据类型，应该保证所有相关的表都使用相同的数据类型。<br>(1)    整型：通常是作为标识符的最好选择，因为可以更快的处理，而且可以设置为AUTO_INCREMENT。</p>
<p>(2)    字符串：尽量避免使用字符串作为标识符，它们消耗更好的空间，处理起来也较慢。而且，通常来说，字符串都是随机的，所以它们在索引中的位置也是随机的，这会导致页面分裂、随机访问磁盘，聚簇索引分裂（对于使用聚簇索引的存储引擎）。</p>
<h5 id="Mysql常见索引有：主键索引、唯一索引、普通索引、全文索引、组合索引"><a href="#Mysql常见索引有：主键索引、唯一索引、普通索引、全文索引、组合索引" class="headerlink" title="Mysql常见索引有：主键索引、唯一索引、普通索引、全文索引、组合索引"></a>Mysql常见索引有：主键索引、唯一索引、普通索引、全文索引、组合索引</h5><p>PRIMARY KEY（主键索引）  ALTER TABLE <code>table_name</code> ADD PRIMARY KEY ( <code>col</code> ) </p>
<p>UNIQUE(唯一索引)     ALTER TABLE <code>table_name</code> ADD UNIQUE (<code>col</code>)</p>
<p>INDEX(普通索引)     ALTER TABLE <code>table_name</code> ADD INDEX index_name (<code>col</code>)</p>
<p>FULLTEXT(全文索引)      ALTER TABLE <code>table_name</code> ADD FULLTEXT ( <code>col</code> )<br>组合索引   ALTER TABLE <code>table_name</code> ADD INDEX index_name (<code>col1</code>, <code>col2</code>, <code>col3</code> ) </p>
<h5 id="Mysql各种索引区别："><a href="#Mysql各种索引区别：" class="headerlink" title="Mysql各种索引区别："></a>Mysql各种索引区别：</h5><p>普通索引：最基本的索引，没有任何限制<br>唯一索引：与”普通索引”类似，不同的就是：索引列的值必须唯一，但允许有空值。<br>主键索引：它 是一种特殊的唯一索引，不允许有空值。<br>全文索引：仅可用于 MyISAM 表，针对较大的数据，生成全文索引很耗时好空间。<br>组合索引：为了更多的提高mysql效率可建立组合索引，遵循”最左前缀“原则。创建复合索引时应该将最常用（频率）作限制条件的列放在最左边，依次递减。</p>
<p>组合索引最左字段用in是可以用到索引的，最好explain一下select。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/c9ee01e2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/c9ee01e2/" itemprop="url">PHP程序输出数据库表结构</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-12-01T11:23:36+08:00">
                2016-12-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">'content-type:text/html;charset=utf-8'</span>);</span><br><span class="line">define(<span class="string">'DB_HOST'</span>, <span class="string">'127.0.0.1'</span>);</span><br><span class="line">define(<span class="string">'DB_USER'</span>, <span class="string">'user'</span>);</span><br><span class="line">define(<span class="string">'DB_PASS'</span>, <span class="string">'DWH8XGOywjvP1cDN'</span>);</span><br><span class="line">define(<span class="string">'DB_NAME'</span>, <span class="string">'db'</span>);</span><br><span class="line">define(<span class="string">'DB_PORT'</span>, <span class="number">3306</span>);</span><br><span class="line">define(<span class="string">'DB_CHAR'</span>, <span class="string">'utf8'</span>);</span><br><span class="line">define(<span class="string">'APPNAME'</span>, <span class="string">''</span>);</span><br><span class="line">$conn = mysqli_connect(DB_HOST . <span class="string">':'</span> . DB_PORT, DB_USER, DB_PASS, DB_NAME);</span><br><span class="line">mysqli_set_charset($conn, <span class="string">"utf8"</span>);</span><br><span class="line"><span class="comment">// mysqli_select_db(DB_NAME);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// $connect = mysqli_connect('localhost','root','','volunteer') or die('Unale to connect');</span></span><br><span class="line"><span class="comment">// $sql = "select * from vol_msg";</span></span><br><span class="line"><span class="comment">// $result = mysqli_query($connect,$sql);</span></span><br><span class="line"><span class="comment">// while($row = mysqli_fetch_row($result))&#123;</span></span><br><span class="line"><span class="comment">// echo $row[0];</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// mysqli_query('set names ' . DB_CHAR);</span></span><br><span class="line">$sql = <span class="string">"SHOW TABLE STATUS FROM "</span> . DB_NAME;</span><br><span class="line">$result = mysqli_query($conn, $sql);</span><br><span class="line">$array = <span class="keyword">array</span>();</span><br><span class="line"><span class="keyword">while</span> ($rows = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">    $array[] = $rows;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// table count</span></span><br><span class="line">$tab_count = count($array);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"</span></span><br><span class="line"><span class="string"> "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br><span class="line"><span class="string">&lt;html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="zh"&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;</span></span><br><span class="line"><span class="string">&lt;title&gt;'</span> . APPNAME . <span class="string">'--数据字典&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;style type="text/css"&gt;</span></span><br><span class="line"><span class="string">table caption, table th, table td &#123;</span></span><br><span class="line"><span class="string">padding: 0.1em 0.5em 0.1em 0.5em;</span></span><br><span class="line"><span class="string">margin: 0.1em;</span></span><br><span class="line"><span class="string">vertical-align: top;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">th &#123;</span></span><br><span class="line"><span class="string">font-weight: bold;</span></span><br><span class="line"><span class="string">color: black;</span></span><br><span class="line"><span class="string">background: #D3DCE3;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">table tr.odd th, .odd &#123;</span></span><br><span class="line"><span class="string">background: #E5E5E5;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">table tr.even th, .even &#123;</span></span><br><span class="line"><span class="string">background: #f3f3f3;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">.db_table&#123;</span></span><br><span class="line"><span class="string">border-top:1px solid #333;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">.title&#123;font-weight:bold;&#125;</span></span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;div style="text-align:center;background:#D3DCE3;font-size:19px;"&gt;</span></span><br><span class="line"><span class="string">&lt;b&gt;'</span> . APPNAME . <span class="string">'--数据字典&lt;/b&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;div style="background:#f3f3f3;text-align:center;"&gt;（注：共'</span> . $tab_count . <span class="string">'张表，按ctrl+F查找关键字）&lt;/div&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; $tab_count; $i++) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;ul type="square"&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;li class="title"&gt;'</span>;</span><br><span class="line">    <span class="keyword">echo</span> ($i + <span class="number">1</span>) . <span class="string">'、表名：['</span> . $array[$i][<span class="string">'Name'</span>] . <span class="string">']注释：'</span> . $array[$i][<span class="string">'Comment'</span>];</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;/li&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line"><span class="comment">//查询数据库字段信息</span></span><br><span class="line">    $tab_name = $array[$i][<span class="string">'Name'</span>];</span><br><span class="line">    $sql_tab = <span class="string">'show full fields from `'</span> . $array[$i][<span class="string">'Name'</span>] . <span class="string">'`'</span>;</span><br><span class="line">    $tab_result = mysqli_query($conn, $sql_tab);</span><br><span class="line">    $tab_array = <span class="keyword">array</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> ($r = mysqli_fetch_assoc($tab_result)) &#123;</span><br><span class="line">        $tab_array[] = $r;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//show keys</span></span><br><span class="line">    $keys_result = mysqli_query($conn, <span class="string">"show keys from `"</span> . $array[$i][<span class="string">'Name'</span>] . <span class="string">'`'</span>);</span><br><span class="line">    $arr_keys = mysqli_fetch_assoc($keys_result);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;li style="list-style: none outside none;"&gt;&lt;table border="0" class="db_table" &gt;'</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;tr class="head"&gt;</span></span><br><span class="line"><span class="string">&lt;th style="width:110px"&gt;字段&lt;/th&gt;</span></span><br><span class="line"><span class="string">&lt;th&gt;类型&lt;/th&gt;</span></span><br><span class="line"><span class="string">&lt;th&gt;为空&lt;/th&gt;</span></span><br><span class="line"><span class="string">&lt;th&gt;额外&lt;/th&gt;</span></span><br><span class="line"><span class="string">&lt;th&gt;默认&lt;/th&gt;</span></span><br><span class="line"><span class="string">&lt;th style="width:95px"&gt;整理&lt;/th&gt;</span></span><br><span class="line"><span class="string">&lt;th&gt;备注&lt;/th&gt;&lt;/tr&gt;'</span>;</span><br><span class="line">    <span class="keyword">for</span> ($j = <span class="number">0</span>; $j &lt; count($tab_array); $j++) &#123;</span><br><span class="line">        $key_name = $arr_keys[<span class="string">'Key_name'</span>];</span><br><span class="line">        <span class="keyword">if</span> ($key_name = <span class="string">"PRIMARY"</span>) &#123;</span><br><span class="line">            $key_name = <span class="string">'主键（'</span> . $key_name . <span class="string">'）'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        $key_field = $arr_keys[<span class="string">'Column_name'</span>];</span><br><span class="line">        <span class="keyword">if</span> ($tab_array[$j][<span class="string">'Field'</span>] == $key_field) &#123;</span><br><span class="line">            $key_value = <span class="string">"PK"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $key_value = <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;tr class="'</span> . ($j % <span class="number">2</span> == <span class="number">0</span> ? <span class="string">"odd"</span> : <span class="string">"even"</span>) . <span class="string">'"&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;td&gt;'</span> . $tab_array[$j][<span class="string">'Field'</span>] . <span class="string">'&lt;/td&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;td&gt;'</span> . $tab_array[$j][<span class="string">'Type'</span>] . <span class="string">'&lt;/td&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;td&gt;'</span> . ($key_value != <span class="string">''</span> ? $key_value : $tab_array[$j][<span class="string">'Null'</span>]) . <span class="string">'&lt;/td&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;td&gt;'</span> . $tab_array[$j][<span class="string">'Extra'</span>] . <span class="string">'&lt;/td&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;td&gt;'</span> . $tab_array[$j][<span class="string">'Default'</span>] . <span class="string">'&lt;/td&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;td&gt;'</span> . $tab_array[$j][<span class="string">'Collation'</span>] . <span class="string">'&lt;/td&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;td&gt;'</span> . ($key_value != <span class="string">''</span> ? $key_name : $tab_array[$j][<span class="string">'Comment'</span>]) . <span class="string">'&lt;/td&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'&lt;/tr&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;/table&gt;&lt;/li&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'&lt;/ul&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/body&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/html&gt;'</span> . <span class="string">"\n"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/e550b6d2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/e550b6d2/" itemprop="url">常用操作和技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-01T19:13:00+08:00">
                2016-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-关联操作"><a href="#1-关联操作" class="headerlink" title="1. 关联操作"></a>1. 关联操作</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 返回订单总额</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> Ambigous &lt;\yii\db\mixed, string, NULL, \yii\db\false, mixed&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getOrdertotalprice</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 第一个参数为要关联的子表模型类名，</span></span><br><span class="line">    <span class="comment">// 第二个参数指定 通过子表的order_id(左边)，关联主表的order_id字段(右边)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasMany(OrderGoodsOrdinary::className(), [<span class="string">'order_id'</span> =&gt; <span class="string">'order_id'</span>])-&gt;sum(<span class="string">'subtotal'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-获取-YII2-AR-执行的-SQL-语句"><a href="#2-获取-YII2-AR-执行的-SQL-语句" class="headerlink" title="2. 获取 YII2 AR 执行的 SQL 语句"></a>2. 获取 YII2 AR 执行的 SQL 语句</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$query = User::find()</span><br><span class="line">    -&gt;where([<span class="string">'id'</span> =&gt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">    -&gt;select([<span class="string">'username'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// get the AR raw sql in YII2</span></span><br><span class="line">$commandQuery = <span class="keyword">clone</span> $query;</span><br><span class="line"><span class="keyword">echo</span> $commandQuery-&gt;createCommand()-&gt;getRawSql();</span><br><span class="line"></span><br><span class="line">$users = $query-&gt;all();</span><br></pre></td></tr></table></figure>

<h4 id="3-post搜索-多个字段like"><a href="#3-post搜索-多个字段like" class="headerlink" title="3 . post搜索/多个字段like"></a>3 . post搜索/多个字段like</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$keywords = Yii::$app-&gt;request-&gt;post(<span class="string">'keywords'</span>) ? Yii::$app-&gt;request-&gt;post(<span class="string">'keywords'</span>) : Yii::$app-&gt;request-&gt;get(<span class="string">'keywords'</span>);</span><br><span class="line">$type = Yii::$app-&gt;request-&gt;get(<span class="string">'type'</span>, <span class="string">'all'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ($type == <span class="string">'all'</span>) &#123;</span><br><span class="line">    $where = [<span class="string">'&gt;'</span>, <span class="string">'actived'</span>, <span class="number">-1</span>];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $where = [<span class="string">'='</span>, <span class="string">'actived'</span>, $type];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$data = Members::find()-&gt;andWhere($where)-&gt;orderBy(<span class="string">'member_id desc'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//多个字段Like</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>($keywords)) &#123;</span><br><span class="line">    $data-&gt;andWhere(</span><br><span class="line">        [</span><br><span class="line">            <span class="string">'or'</span>,</span><br><span class="line">            [<span class="string">'like'</span>, <span class="string">'member_name'</span>, $keywords],</span><br><span class="line">            [<span class="string">'like'</span>, <span class="string">'name'</span>, $keywords],</span><br><span class="line">            [<span class="string">'like'</span>, <span class="string">'mobile'</span>, $keywords],</span><br><span class="line">        ]</span><br><span class="line">    );;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$pages = <span class="keyword">new</span> Pagination([<span class="string">'totalCount'</span> =&gt; $data-&gt;count(), <span class="string">'pageSize'</span> =&gt; <span class="number">10</span>]);</span><br><span class="line"></span><br><span class="line">$result = $data-&gt;offset($pages-&gt;offset)-&gt;limit($pages-&gt;limit)-&gt;all();</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置分页查询的关键字，点击分页是带回该查询关键字</span></span><br><span class="line">$pages-&gt;params = [<span class="string">'keywords'</span> =&gt; $keywords];</span><br><span class="line"><span class="keyword">$this</span>-&gt;assign(<span class="string">"type"</span>, $type);</span><br><span class="line"><span class="keyword">$this</span>-&gt;assign(<span class="string">"result"</span>, $result);</span><br><span class="line"><span class="keyword">$this</span>-&gt;assign(<span class="string">"pages"</span>, LinkPager::widget([<span class="string">'pagination'</span> =&gt; $pages]));</span><br></pre></td></tr></table></figure>

<h4 id="4-配置并连接redis"><a href="#4-配置并连接redis" class="headerlink" title="4. 配置并连接redis"></a>4. 配置并连接redis</h4><blockquote>
<p>安装扩展包</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require --prefer-dist yiisoft / yii2 - redis</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置components组件</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">'components'</span> =&gt; [</span><br><span class="line">    <span class="string">'cache'</span> =&gt; [</span><br><span class="line">        <span class="comment">// 'class' =&gt; 'yii\caching\FileCache',</span></span><br><span class="line">        <span class="string">'class'</span> =&gt; <span class="string">'yii\redis\Cache'</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">'redis'</span> =&gt; [</span><br><span class="line">        <span class="string">'class'</span> =&gt; <span class="string">'yii\redis\Connection'</span>,</span><br><span class="line">        <span class="string">'hostname'</span> =&gt; <span class="string">'192.168.186.233'</span>,</span><br><span class="line">        <span class="string">'port'</span> =&gt; <span class="number">6379</span>,</span><br><span class="line">        <span class="string">'database'</span> =&gt; <span class="number">0</span>,</span><br><span class="line">    ],</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Yii::$app-&gt;cache-&gt;set(<span class="string">'test'</span>, <span class="string">'hehe..'</span>);</span><br><span class="line"><span class="keyword">echo</span> Yii::$app-&gt;cache-&gt;get(<span class="string">'test'</span>), <span class="string">"\n"</span>;</span><br><span class="line">Yii::$app-&gt;cache-&gt;set(<span class="string">'test1'</span>, <span class="string">'haha..'</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<h4 id="5-COMPOSER安装Yii2错误"><a href="#5-COMPOSER安装Yii2错误" class="headerlink" title="5. COMPOSER安装Yii2错误"></a>5. COMPOSER安装Yii2错误</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Symfony\Component\Process\Exception\RuntimeException]                                   </span><br><span class="line">  The Process class relies on proc_open, <span class="built_in">which</span> is not available on your PHP installation. </span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">&gt;需要在PHP.INI开启 disable_functions = proc_open 去掉。</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">Failed to decode response: zlib_decode(): data error</span><br><span class="line">Retrying with degraded mode, check https://getcomposer.org/doc/articles/troubleshooting.md<span class="comment">#degraded-mode for moYour </span></span><br><span class="line">requirements could not be resolved to an installable <span class="built_in">set</span> of packages.</span><br></pre></td></tr></table></figure>

<h4 id="6-Yii2中设置多个应用雨荨跨域"><a href="#6-Yii2中设置多个应用雨荨跨域" class="headerlink" title="6. Yii2中设置多个应用雨荨跨域"></a>6. Yii2中设置多个应用雨荨跨域</h4><blockquote>
<p>在BaseController基类中添加一下代码</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$origin = <span class="keyword">isset</span>($_SERVER[<span class="string">'HTTP_ORIGIN'</span>]) ? $_SERVER[<span class="string">'HTTP_ORIGIN'</span>] : <span class="string">''</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>($origin)) &#123;</span><br><span class="line">    <span class="keyword">if</span> (strpos($origin, <span class="string">".zbc.com"</span>)) &#123;</span><br><span class="line">        header(<span class="string">'Access-Control-Allow-Origin:'</span> . $origin);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//允许跨域</span></span><br><span class="line">header(<span class="string">"Access-Control-Allow-Credentials:true"</span>);</span><br><span class="line">header(<span class="string">'Access-Control-Allow-Methods: GET, POST'</span>);</span><br><span class="line">header(<span class="string">'Access-Control-Max-Age: 3628800'</span>);</span><br><span class="line">header(<span class="string">'Access-Control-Allow-Headers:x-requested-with,content-type'</span>);</span><br><span class="line">header(<span class="string">'Content-Type:application/json;charset=utf-8'</span>);</span><br></pre></td></tr></table></figure>

<h4 id="7-构造复杂的价格查询语句"><a href="#7-构造复杂的价格查询语句" class="headerlink" title="7. 构造复杂的价格查询语句"></a>7. 构造复杂的价格查询语句</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//起始价格</span></span><br><span class="line">$min_price = Yii::$app-&gt;request-&gt;post(<span class="string">'min_price'</span>) ? Yii::$app-&gt;request-&gt;post(<span class="string">'min_price'</span>) : Yii::$app-&gt;request-&gt;get(<span class="string">'min_price'</span>);</span><br><span class="line"><span class="comment">//结束价格</span></span><br><span class="line">$max_price = Yii::$app-&gt;request-&gt;post(<span class="string">'max_price'</span>) ? Yii::$app-&gt;request-&gt;post(<span class="string">'max_price'</span>) : Yii::$app-&gt;request-&gt;get(<span class="string">'max_price'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>($min_price) &amp;&amp; <span class="keyword">empty</span>($max_price)) &#123;</span><br><span class="line">    $pricestr = [<span class="string">'&gt;='</span>, Product::tableName() . <span class="string">'.min_price'</span>, $min_price];</span><br><span class="line">    $pricestr2 = [<span class="string">'&gt;='</span>, FxMember::tableName() . <span class="string">'.min_price'</span>, $min_price];</span><br><span class="line">&#125; <span class="keyword">elseif</span> (<span class="keyword">empty</span>($min_price) &amp;&amp; !<span class="keyword">empty</span>($max_price)) &#123;</span><br><span class="line">    $pricestr = [<span class="string">'&lt;='</span>, Product::tableName() . <span class="string">'.min_price'</span>, $max_price];</span><br><span class="line">    $pricestr2 = [<span class="string">'&lt;='</span>, FxMember::tableName() . <span class="string">'.min_price'</span>, $max_price];</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">elseif</span> (!<span class="keyword">empty</span>($max_price) &amp;&amp; !<span class="keyword">empty</span>($min_price)) &#123;</span><br><span class="line">    $pricestr = [</span><br><span class="line">        <span class="string">'and'</span>,</span><br><span class="line">        [<span class="string">'&gt;='</span>, Product::tableName() . <span class="string">'.min_price'</span>, $min_price],</span><br><span class="line">        [<span class="string">'&lt;='</span>, Product::tableName() . <span class="string">'.min_price'</span>, $max_price],</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    $pricestr2 = [</span><br><span class="line">        <span class="string">'and'</span>,</span><br><span class="line">        [<span class="string">'&gt;='</span>, FxMember::tableName() . <span class="string">'.min_price'</span>, $min_price],</span><br><span class="line">        [<span class="string">'&lt;='</span>, FxMember::tableName() . <span class="string">'.min_price'</span>, $max_price],</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$Model-&gt;where([</span><br><span class="line"></span><br><span class="line">    <span class="string">'or'</span>,</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'and'</span>,</span><br><span class="line">        [<span class="string">'='</span>, Product::tableName() . <span class="string">'.shop_id'</span>, <span class="keyword">$this</span>-&gt;member_shop_id],</span><br><span class="line">        [<span class="string">'='</span>, Product::tableName() . <span class="string">'.is_delete'</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="string">'='</span>, Product::tableName() . <span class="string">'.on_sale'</span>, <span class="number">1</span>],</span><br><span class="line">        $br,</span><br><span class="line">        $cr,</span><br><span class="line">        $pricestr</span><br><span class="line">    ],</span><br><span class="line">    [</span><br><span class="line">        <span class="string">'and'</span>,</span><br><span class="line">        [<span class="string">'in'</span>, FxMember::tableName() . <span class="string">'.goods_id'</span>, $fxGoods],</span><br><span class="line">        [<span class="string">'='</span>, FxMember::tableName() . <span class="string">'.is_delete'</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="string">'='</span>, FxMember::tableName() . <span class="string">'.on_sale'</span>, <span class="number">1</span>],</span><br><span class="line">        $pricestr2</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">]);</span><br></pre></td></tr></table></figure>

<h4 id="9-集成smarty，便于模版分离"><a href="#9-集成smarty，便于模版分离" class="headerlink" title="9. 集成smarty，便于模版分离"></a>9. 集成smarty，便于模版分离</h4><blockquote>
<p>首先安装扩展</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php composer.phar require --prefer-dist yiisoft/yii2-smarty</span><br></pre></td></tr></table></figure>

<blockquote>
<p>配置组件</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'components'</span> =&gt; [</span><br><span class="line">    <span class="string">'view'</span> =&gt; [</span><br><span class="line">        <span class="string">'renderers'</span> =&gt; [</span><br><span class="line">            <span class="string">'html'</span> =&gt; [</span><br><span class="line">                <span class="string">'class'</span> =&gt; <span class="string">'yii\smarty\ViewRenderer'</span>,</span><br><span class="line">                <span class="comment">//'cachePath' =&gt; '@runtime/Smarty/cache',</span></span><br><span class="line">                <span class="string">'cachePath'</span> =&gt; <span class="string">'@runtime/Smarty/cache'</span>,</span><br><span class="line">                <span class="string">'options'</span> =&gt; [</span><br><span class="line">                    <span class="string">'left_delimiter'</span> =&gt; <span class="string">'&#123;&#123;'</span>,</span><br><span class="line">                    <span class="string">'right_delimiter'</span> =&gt; <span class="string">'&#125;&#125;'</span>,</span><br><span class="line">                ],</span><br><span class="line">            ],</span><br><span class="line">        ],</span><br><span class="line">    ],</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//控制器里边</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">$this</span>-&gt;render(<span class="string">'display.html'</span>,[<span class="string">'name'</span>=&gt;<span class="string">'ansuns'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//模板里边</span></span><br><span class="line">&#123;$name&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/c84de7fd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/c84de7fd/" itemprop="url">CentOS 6.4下编译安装MySQL 5.6.14</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-06T17:35:55+08:00">
                2016-07-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/mysql/" itemprop="url" rel="index">
                    <span itemprop="name">mysql</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="概述："><a href="#概述：" class="headerlink" title="概述："></a>概述：</h3><p>CentOS 6.4下通过yum安装的MySQL是5.1版的，比较老，所以就想通过源代码安装高版本的5.6.14。</p>
<h4 id="一：卸载旧版本"><a href="#一：卸载旧版本" class="headerlink" title="一：卸载旧版本"></a>一：卸载旧版本</h4><p>使用下面的命令检查是否安装有MySQL Server</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep mysql</span><br></pre></td></tr></table></figure>

<p>有的话通过下面的命令来卸载掉</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e mysql  <span class="comment">#普通删除模式</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e --nodeps mysql  <span class="comment"># 强力删除模式，如果使用上面命令删除时，提示有依赖的其它文件，则用该命令可以对其进行强力删除</span></span><br></pre></td></tr></table></figure>

<h4 id="二：安装MySQL"><a href="#二：安装MySQL" class="headerlink" title="二：安装MySQL"></a>二：安装MySQL</h4><p>安装编译代码需要的包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install make gcc-c++ cmake bison-devel  ncurses-devel</span><br></pre></td></tr></table></figure>

<p>下载MySQL 5.6.14</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http://cdn.mysql.com/Downloads/MySQL-5.6/mysql-5.6.14.tar.gz</span><br><span class="line">tar xvf mysql-5.6.14.tar.gz</span><br><span class="line"><span class="built_in">cd</span> mysql-5.6.14</span><br></pre></td></tr></table></figure>

<h4 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">cmake \</span><br><span class="line">-DCMAKE_INSTALL_PREFIX=/usr/<span class="built_in">local</span>/mysql \</span><br><span class="line">-DMYSQL_DATADIR=/usr/<span class="built_in">local</span>/mysql/data \</span><br><span class="line">-DSYSCONFDIR=/etc \</span><br><span class="line">-DWITH_MYISAM_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_INNOBASE_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_MEMORY_STORAGE_ENGINE=1 \</span><br><span class="line">-DWITH_READLINE=1 \</span><br><span class="line">-DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock \</span><br><span class="line">-DMYSQL_TCP_PORT=3306 \</span><br><span class="line">-DENABLED_LOCAL_INFILE=1 \</span><br><span class="line">-DWITH_PARTITION_STORAGE_ENGINE=1 \</span><br><span class="line">-DEXTRA_CHARSETS=all \</span><br><span class="line">-DDEFAULT_CHARSET=utf8 \</span><br><span class="line">-DDEFAULT_COLLATION=utf8_general_ci</span><br><span class="line"></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<p>编译的参数可以参考 <a href="http://dev.mysql.com/doc/refman/5.5/en/source-configuration-options.html。" target="_blank" rel="noopener">链接</a><br>整个过程需要30分钟左右……漫长的等待</p>
<h4 id="三：配置MySQL"><a href="#三：配置MySQL" class="headerlink" title="三：配置MySQL"></a>三：配置MySQL</h4><h4 id="设置权限"><a href="#设置权限" class="headerlink" title="设置权限"></a>设置权限</h4><p>使用下面的命令查看是否有mysql用户及用户组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd <span class="comment">#查看用户列表</span></span><br><span class="line">cat /etc/group  <span class="comment">#查看用户组列表</span></span><br></pre></td></tr></table></figure>

<p>如果没有就创建</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">groupadd mysql</span><br><span class="line">useradd -g mysql mysql</span><br><span class="line">chown -R mysql:mysql /usr/<span class="built_in">local</span>/mysql <span class="comment">#修改/usr/local/mysql权限</span></span><br></pre></td></tr></table></figure>

<h4 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h4><p>进入安装路径</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mysql</span><br></pre></td></tr></table></figure>

<p>进入安装路径，执行初始化配置脚本，创建系统自带的数据库和表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scripts/mysql_install_db --basedir=/usr/<span class="built_in">local</span>/mysql --datadir=/usr/<span class="built_in">local</span>/mysql/data --user=mysql</span><br></pre></td></tr></table></figure>

<p>注：在启动MySQL服务时，会按照一定次序搜索my.cnf，先在/etc目录下找，找不到则会搜索”$basedir/my.cnf”，在本例中就是 /usr/local/mysql/my.cnf，这是新版MySQL的配置文件的默认位置！<br>注意：在CentOS 6.4版操作系统的最小安装完成后，在/etc目录下会存在一个my.cnf，需要将此文件更名为其他的名字，如：/etc/my.cnf.bak，否则，该文件会干扰源码安装的MySQL的正确配置，造成无法启动。<br>在使用”yum update”更新系统后，需要检查下/etc目录下是否会多出一个my.cnf，如果多出，将它重命名成别的。否则，MySQL将使用这个配置文件启动，可能造成无法正常启动等问题。</p>
<h4 id="启动MySQL"><a href="#启动MySQL" class="headerlink" title="启动MySQL"></a>启动MySQL</h4><p>添加服务，拷贝服务脚本到init.d目录，并设置开机启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp support-files/mysql.server /etc/init.d/mysql</span><br><span class="line">chkconfig mysql on</span><br><span class="line">service mysql start  <span class="comment">#--启动MySQL</span></span><br></pre></td></tr></table></figure>

<h4 id="配置用户"><a href="#配置用户" class="headerlink" title="配置用户"></a>配置用户</h4><p>MySQL启动成功后，root默认没有密码，我们需要设置root密码。<br>设置之前，我们需要先设置PATH，要不不能直接调用mysql<br>修改/etc/profile文件，在文件末尾添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PATH=/usr/<span class="built_in">local</span>/mysql/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> PATH</span><br></pre></td></tr></table></figure>

<p>关闭文件，运行下面的命令，让配置立即生效</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>

<p>现在，我们可以在终端内直接输入mysql进入，mysql的环境了<br>执行下面的命令修改root密码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot  </span><br><span class="line">mysql&gt; SET PASSWORD = PASSWORD(<span class="string">'123456'</span>);</span><br></pre></td></tr></table></figure>

<p>若要设置root用户可以远程访问，执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO <span class="string">'root'</span>@<span class="string">'172.16.%'</span> IDENTIFIED BY <span class="string">'password'</span> WITH GRANT OPTION;</span><br></pre></td></tr></table></figure>

<p>红色的password为远程访问时，root用户的密码，可以和本地不同。</p>
<h4 id="配置防火墙"><a href="#配置防火墙" class="headerlink" title="配置防火墙"></a>配置防火墙</h4><p>防火墙的3306端口默认没有开启，若要远程访问，需要开启这个端口</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/iptables <span class="comment">#修改</span></span><br></pre></td></tr></table></figure>

<p>在“-A INPUT –m state –state NEW –m tcp –p –dport 22 –j ACCEPT”，下添加：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-A INPUT -m state --state NEW -m tcp -p -dport 3306 -j ACCEPT</span><br></pre></td></tr></table></figure>

<p>然后保存，并关闭该文件，在终端内运行下面的命令，刷新防火墙配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service iptables restart</span><br></pre></td></tr></table></figure>


<p>OK，一切配置完毕，你可以访问你的MySQL了~</p>
<h4 id="2014年12月02日添加："><a href="#2014年12月02日添加：" class="headerlink" title="2014年12月02日添加："></a>2014年12月02日添加：</h4><p>CentOS 7中默认使用Firewalld做防火墙，所以修改iptables后，在重启系统后，根本不管用。<br>Firewalld中添加端口方法如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=3306/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/3074e1a6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/3074e1a6/" itemprop="url">接口签名认证方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-25T23:22:45+08:00">
                2016-05-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/服务/" itemprop="url" rel="index">
                    <span itemprop="name">服务</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/服务/部署/" itemprop="url" rel="index">
                    <span itemprop="name">部署</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>针对近期在一些红包、抽奖、投票活动中，有些人利用技术手段和批量账号，参与活动刷取利益的行为，我们需要从业务和技术层面都提<br>高警惕，在业务流程设计和技术架构设计上建立应对机制和优化措施。有数据表明，国内目前的“羊毛党”、黑产从业者，有20万人之多，所以<br>这种攻防对战会一直存在。除了业务活动设计者在上这类活动时要非常慎重之外，我们技术也需在接口安全方面做相应解决方案。为了保证<br>客户端与服务器端接口通信安全，防止接口被非法请求或篡改数据现设计如下解决方案。</p>
<p>主要目标：</p>
<blockquote>
<ul>
<li>1、验证请求来源是否合法问题。</li>
<li>2、防止请求参数被篡改问题。</li>
<li>3、验证请求的唯一性，不可复制。</li>
</ul>
</blockquote>
<p>主要算法思路：</p>
<blockquote>
<ul>
<li>1、算法选择：选用对称加密算法<strong>sha-1</strong>或<strong>md5</strong>；非对称加密相比对称加密更加安全，但缺点就是耗CPU资源，耗电。所以在此采用对称加密算法md5，加密效率高。</li>
<li>2、客户端和服务器端双方选择同一种加密模式，对传输的数据进行加密，再用参数字段进行数字签名，双方对签名比较验证，这样可确认请求者身份的合法性，也防止数据被篡改；</li>
<li>3、同时，在请求参数中，我们加入时间戳，也把时间戳作为请求参数之一加入<strong>sign</strong>算法中进行加密，服务器端通过比较时间有效期，确定是否失效，这样我们可以保证请求的唯一性。</li>
<li>4、关于客户端密钥保存问题，主要考虑采用代码混淆、加壳加密、定期更换的方式。</li>
<li>5、<strong>sign</strong> <strong>签名</strong>的生成规则：接口中的所有参数,包括key和Ts，去除掉参数中值为空的参数后，按照参数key值排序，用&amp;链接，并全部转化为小写，然后用MD5加密。</li>
<li>6、给不同客户端或第三方分配不同的密钥key、serect，以便管理。切勿在参数中带serect.</li>
<li>7、接口请求格式：<a href="http://xxx/getName?key=app_key&amp;sign=BC671B701D8A35...&amp;ts=201506261407&amp;p1=value1&amp;p2=value2。" target="_blank" rel="noopener">http://xxx/getName?key=app_key&amp;sign=BC671B701D8A35...&amp;ts=201506261407&amp;p1=value1&amp;p2=value2。</a></li>
</ul>
</blockquote>
<p>实施步骤：<br>我们先在红包、抽奖、投票和注册登录等涉及利益的接口中加入<strong>接口认证</strong>机制，防止非正常请求操作成功，这样牟利的人无利可图，可大幅降低<br>攻击风险和攻击流量，即使还有流量负载压力，那我们可以采用常规的应用负载均衡部署和网络过滤方式解决，这些都有成熟解决方案，不属于<br>本方案范畴，我们可另行规划讨论。</p>
<p>另外，关于利用同一台设备刷注册量这类问题，我们需考虑逐步建立一套用户行为分析系统。初期我们可以先收集一些用户基本信息，如采集记录设备识别码、ip、手机号、帐号、登录时间等，然后在某些场景中利用这些行为记录做相应的规则匹配，输出相应的业务决策。比如某台设备码在一天内注册或登录超过N次后，返回验证码登录、设备锁定提示等。</p>
<blockquote>
<ul>
<li>1、在客户端请求某些关键接口时，采集相应信息传输给服务器端，服务器端异步存储用户行为记录。</li>
<li>2、在需要验证用户行为的业务逻辑中，调用用户行为分析接口，形成决策，比如拒绝请求、要求登录认证、验证码验证、短信验证等。</li>
<li>3、建立通用的短信验证码接口、图形验证码接口，在关键活动中接入验证环节。</li>
<li>4、我们也可关注一些专业的第三方防刷服务，如腾讯云的天御业务安全防护、活动防刷服务。</li>
</ul>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/95f60f3d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/95f60f3d/" itemprop="url">Composer-安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-12T22:06:42+08:00">
                2016-05-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="局部安装"><a href="#局部安装" class="headerlink" title="局部安装"></a>局部安装</h5><p>要真正获取 Composer，我们需要做两件事。首先安装 Composer （同样的，这意味着它将下载到你的项目中）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://getcomposer.org/installer | php</span><br></pre></td></tr></table></figure>

<p>注意： 如果上述方法由于某些原因失败了，你还可以通过 php &gt;下载安装器：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -r <span class="string">"readfile('https://getcomposer.org/installer');"</span> | php</span><br></pre></td></tr></table></figure>

<p>这将检查一些 PHP 的设置，然后下载 composer.phar 到你的工作目录中。这是 Composer 的二进制文件。这是一个 PHAR 包（PHP 的归档），这是 PHP 的归档格式可以帮助用户在命令行中执行一些操作。<br>你可以通过 –install-dir 选项指定 Composer 的安装目录（它可以是一个绝对或相对路径）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://getcomposer.org/installer | php -- --install-dir=bin</span><br></pre></td></tr></table></figure>

<h5 id="全局安装"><a href="#全局安装" class="headerlink" title="全局安装"></a>全局安装</h5><p>你可以将此文件放在任何地方。如果你把它放在系统的 PATH 目录中，你就能在全局访问它。 在类Unix系统中，你甚至可以在使用时不加 php 前缀。<br>你可以执行这些命令让 composer 在你的系统中进行全局调用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://getcomposer.org/installer | php</span><br><span class="line">mv composer.phar /usr/<span class="built_in">local</span>/bin/composer</span><br></pre></td></tr></table></figure>

<p>注意： 如果上诉命令因为权限执行失败， 请使用 sudo 再次尝试运行 mv 那行命令。<br>现在只需要运行 composer 命令就可以使用 Composer 而不需要输入 php composer.phar。</p>
<p>安装 - Windows<br>使用安装程序</p>
<blockquote>
<p>这是将 Composer 安装在你机器上的最简单的方法。<br>下载并且运行 Composer-Setup.exe，它将安装最新版本的 Composer ，并设置好系统的环境变量，因此你可以在任何目录下直接使用 composer 命令。</p>
</blockquote>
<p>手动安装</p>
<blockquote>
<p>设置系统的环境变量 PATH 并运行安装命令下载 composer.phar 文件：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\username&gt;<span class="built_in">cd</span> C:\bin</span><br><span class="line">C:\bin&gt;php -r <span class="string">"readfile('https://getcomposer.org/installer');"</span> | php</span><br></pre></td></tr></table></figure>

<p>注意： 如果收到 readfile 错误提示，请使用 http 链接或者在 php.ini 中开启 php_openssl.dll 。<br>在 composer.phar 同级目录下新建文件 composer.bat ：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\bin&gt;<span class="built_in">echo</span> @php <span class="string">"%~dp0composer.phar"</span> %*&gt;composer.bat</span><br></pre></td></tr></table></figure>

<p>安装完Composer，运行下面的命令来安装Composer Asset插件:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php composer.phar global require <span class="string">"fxp/composer-asset-plugin:~1.1.1"</span></span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require monolog\monolog 1.0.*</span><br></pre></td></tr></table></figure>

<p>就可以生成了composer.json</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/51c1b2a2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/51c1b2a2/" itemprop="url">solr安装部署并整合到ecshop</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-05-03T23:54:42+08:00">
                2016-05-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/全文检索/" itemprop="url" rel="index">
                    <span itemprop="name">全文检索</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="linux环境部署"><a href="#linux环境部署" class="headerlink" title="linux环境部署"></a>linux环境部署</h4><blockquote>
<p>先安装java环境 ，需要Java Runtime Environment(JRE) 1.7或更高版本<br>下载5.5版本的solr zip包 : <a href="http://mirror.bit.edu.cn/apache/lucene/solr/5.5.0/" target="_blank" rel="noopener">链接</a><br>解压到当前目录</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip -r solr-5.5.0.zip ./</span><br></pre></td></tr></table></figure>

<blockquote>
<p>创建应用程序目录</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/<span class="built_in">local</span>/solr</span><br></pre></td></tr></table></figure>

<blockquote>
<p>svn 代码solr_project/ check out 至 /data目录下<br>创建运行solr的用户并赋权</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># groupadd solr</span></span><br><span class="line"><span class="comment"># useradd -g solr solr</span></span><br><span class="line"><span class="comment"># chown -R solr.solr /data/solr_project/solr_cores /usr/local/solr</span></span><br></pre></td></tr></table></figure>

<p>安装solr服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">solr-5.5.0/bin/install_solr_service.sh solr-5.5.0.zip -d /data/solr_project/solr_cores -i /usr/<span class="built_in">local</span>/solr</span><br></pre></td></tr></table></figure>

<p>检查服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service solr status</span><br></pre></td></tr></table></figure>

<p>/data/solr_project/README.txt里有增加core，删除core重启<br><strong>core</strong>介绍<br><strong>solr_cores</strong>是<strong>solr</strong>存放<strong>core</strong>的目录</p>
<ul>
<li>新增core配置参考solr_cores/demo_core配置，修改conf里的managed-schema最后的字段信息</li>
<li>新增core方法：复制demo_core，重命名为目标target_core，修改配置字段信息后，执行脚本./solr_s/add_core.sh target_core</li>
<li>修改配置后需要重启solr，执行脚本./solr_cores/restart_solr.sh即可</li>
<li>import_scripts存放导入core数据的脚本，对应core命名</li>
<li>configs放置一些配置信息</li>
<li>hnlog_文件夹存放索引更新的日志</li>
<li>includes存放一些公用类</li>
<li>扩展类添加到（如ik分词）/usr/local/solr/solr/server/solr-webapp/webapp/WEB-INF/lib</li>
</ul>
<h4 id="更新core的scheme字段配置与导数据"><a href="#更新core的scheme字段配置与导数据" class="headerlink" title="更新core的scheme字段配置与导数据"></a>更新core的scheme字段配置与导数据</h4><ul>
<li>solr_project已加入版本控制:svn://192.168.2.231/solr_project</li>
<li>配置文件，solr_project/solr_cores/demo_core/conf/managed-schema，对应demo_core</li>
<li>修改字段配置后重启solr脚本./restart_solr.sh</li>
<li>导数据脚本solr_project/import_scripts/demo_core.php,对应core名称</li>
</ul>
<h4 id="添加ik中文分词"><a href="#添加ik中文分词" class="headerlink" title="添加ik中文分词"></a>添加ik中文分词</h4><ul>
<li>将solr_project/inluces里的ik jar包放进/usr/local/solr/solr/server/solr-webapp/webapp/WEB-INF/lib</li>
<li>将jar包中ext.dic IKAnalyzer.cfg.xml stopword.dic复制进/usr/local/solr/solr/server/solr-webapp/webapp/WEB-INF/classes</li>
<li>solr_project/solr_cores/restart_solr.sh会将ext.dic、stopword.dic复制到上面的classes目录，自动更新扩展词库</li>
</ul>
<h4 id="整合solarium"><a href="#整合solarium" class="headerlink" title="整合solarium"></a>整合<strong>solarium</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require solarium/solarium</span><br></pre></td></tr></table></figure>

<h4 id="在要使用检索的位置调用"><a href="#在要使用检索的位置调用" class="headerlink" title="在要使用检索的位置调用"></a>在要使用检索的位置调用</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">'IN_ECS'</span>, <span class="keyword">true</span>);</span><br><span class="line"><span class="keyword">require</span> dirname(FILE) . <span class="string">'/includes/lib_search.php'</span>;</span><br><span class="line">$Search = <span class="keyword">new</span> Search();</span><br><span class="line">$Search→query_params(<span class="string">"goods_name:欧式 shop_price:[100 TO *]"</span>);</span><br></pre></td></tr></table></figure>

<p>搜索条件：字段名:条件; * 如果多个查询条件，AND 或者 OR 等运算符 * 具体也可参考includes\search\vendor\solarium\solarium\examples下的例子</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/1125adb3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/1125adb3/" itemprop="url">mysql语句：批量更新多条记录的不同值</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-25T14:57:41+08:00">
                2016-03-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/mysql/" itemprop="url" rel="index">
                    <span itemprop="name">mysql</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>mysql更新语句很简单，更新一条数据的某个字段，一般这样写：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> mytable <span class="keyword">SET</span> myfield = <span class="string">'value'</span> <span class="keyword">WHERE</span> other_field = <span class="string">'other_value'</span>;</span><br></pre></td></tr></table></figure>

<p>如果更新同一字段为同一个值，mysql也很简单，修改下where即可：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> mytable <span class="keyword">SET</span> myfield = <span class="string">'value'</span> <span class="keyword">WHERE</span> other_field <span class="keyword">in</span> (<span class="string">'other_values'</span>);</span><br></pre></td></tr></table></figure>

<p>这里注意 ‘other_values’ 是一个逗号（，）分隔的字符串，如：1,2,3<br>那如果更新多条数据为不同的值，可能很多人会这样写：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> ($display_order <span class="keyword">as</span> $id =&gt; $ordinal) &#123; </span><br><span class="line">    $sql = <span class="string">"UPDATE categories SET display_order = $ordinal WHERE id = $id"</span>; </span><br><span class="line">    mysql_query($sql); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>即是循环一条一条的更新记录。一条记录update一次，这样性能很差，也很容易造成阻塞。<br>那么能不能一条sql语句实现批量更新呢？mysql并没有提供直接的方法来实现批量更新，但是可以用点小技巧来实现。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> mytable </span><br><span class="line">    <span class="keyword">SET</span> myfield = <span class="keyword">CASE</span> <span class="keyword">id</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">'value'</span></span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">'value'</span></span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="string">'value'</span></span><br><span class="line">    <span class="keyword">END</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> <span class="keyword">IN</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>这里使用了case when 这个小技巧来实现批量更新。<br>举个例子：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> categories </span><br><span class="line">    <span class="keyword">SET</span> display_order = <span class="keyword">CASE</span> <span class="keyword">id</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="number">3</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="number">4</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="number">5</span> </span><br><span class="line">    <span class="keyword">END</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> <span class="keyword">IN</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>这句sql的意思是，更新display_order 字段，如果id=1 则display_order 的值为3，如果id=2 则 display_order 的值为4，如果id=3 则 display_order 的值为5。<br>即是将条件语句写在了一起。<br>这里的where部分不影响代码的执行，但是会提高sql执行的效率。确保sql语句仅执行需要修改的行数，这里只有3条数据进行更新，而where子句确保只有3行数据执行。<br>如果更新多个值的话，只需要稍加修改：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> categories </span><br><span class="line">    <span class="keyword">SET</span> display_order = <span class="keyword">CASE</span> <span class="keyword">id</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="number">3</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="number">4</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="number">5</span> </span><br><span class="line">    <span class="keyword">END</span>, </span><br><span class="line">    title = <span class="keyword">CASE</span> <span class="keyword">id</span> </span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">'New Title 1'</span></span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">2</span> <span class="keyword">THEN</span> <span class="string">'New Title 2'</span></span><br><span class="line">        <span class="keyword">WHEN</span> <span class="number">3</span> <span class="keyword">THEN</span> <span class="string">'New Title 3'</span></span><br><span class="line">    <span class="keyword">END</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> <span class="keyword">IN</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>到这里，已经完成一条mysql语句更新多条记录了。<br>但是要在业务中运用，需要结合服务端语言，这里以php为例，构造这条mysql语句：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$display_order = <span class="keyword">array</span>( </span><br><span class="line">    <span class="number">1</span> =&gt; <span class="number">4</span>, </span><br><span class="line">    <span class="number">2</span> =&gt; <span class="number">1</span>, </span><br><span class="line">    <span class="number">3</span> =&gt; <span class="number">2</span>, </span><br><span class="line">    <span class="number">4</span> =&gt; <span class="number">3</span>, </span><br><span class="line">    <span class="number">5</span> =&gt; <span class="number">9</span>, </span><br><span class="line">    <span class="number">6</span> =&gt; <span class="number">5</span>, </span><br><span class="line">    <span class="number">7</span> =&gt; <span class="number">8</span>, </span><br><span class="line">    <span class="number">8</span> =&gt; <span class="number">9</span> </span><br><span class="line">); </span><br><span class="line">$ids = implode(<span class="string">','</span>, array_keys($display_order)); </span><br><span class="line">$sql = <span class="string">"UPDATE categories SET display_order = CASE id "</span>; </span><br><span class="line"><span class="keyword">foreach</span> ($display_order <span class="keyword">as</span> $id =&gt; $ordinal) &#123; </span><br><span class="line">    $sql .= sprintf(<span class="string">"WHEN %d THEN %d "</span>, $id, $ordinal); </span><br><span class="line">&#125; </span><br><span class="line">$sql .= <span class="string">"END WHERE id IN ($ids)"</span>; </span><br><span class="line"><span class="keyword">echo</span> $sql;</span><br></pre></td></tr></table></figure>

<p>这个例子，有8条记录进行更新。代码也很容易理解，你学会了吗<br>性能分析<br>当我使用上万条记录利用mysql批量更新，发现使用最原始的批量update发现性能很差，将网上看到的总结一下一共有以下三种办法：</p>
<h5 id="1-批量update，一条记录update一次，性能很差"><a href="#1-批量update，一条记录update一次，性能很差" class="headerlink" title="1. 批量update，一条记录update一次，性能很差"></a>1. 批量update，一条记录update一次，性能很差</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> test_tbl <span class="keyword">set</span> dr=<span class="string">'2'</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h5 id="2-replace-into-或者insert-into-…on-duplicate-key-update"><a href="#2-replace-into-或者insert-into-…on-duplicate-key-update" class="headerlink" title="2. replace into 或者insert into …on duplicate key update"></a>2. replace into 或者insert into …on duplicate key update</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">replace</span> <span class="keyword">into</span> test_tbl (<span class="keyword">id</span>,dr) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'2'</span>),(<span class="number">2</span>,<span class="string">'3'</span>),...(x,<span class="string">'y'</span>);</span><br></pre></td></tr></table></figure>

<p>或者使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test_tbl (<span class="keyword">id</span>,dr) <span class="keyword">values</span>  (<span class="number">1</span>,<span class="string">'2'</span>),(<span class="number">2</span>,<span class="string">'3'</span>),...(x,<span class="string">'y'</span>) <span class="keyword">on</span> <span class="keyword">duplicate</span> <span class="keyword">key</span> <span class="keyword">update</span> dr=<span class="keyword">values</span>(dr);</span><br></pre></td></tr></table></figure>

<h5 id="3-创建临时表，先更新临时表，然后从临时表中update"><a href="#3-创建临时表，先更新临时表，然后从临时表中update" class="headerlink" title="3. 创建临时表，先更新临时表，然后从临时表中update"></a>3. 创建临时表，先更新临时表，然后从临时表中update</h5><p>代码如下</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">temporary</span> <span class="keyword">table</span> tmp(<span class="keyword">id</span> <span class="built_in">int</span>(<span class="number">4</span>) primary <span class="keyword">key</span>,dr <span class="built_in">varchar</span>(<span class="number">50</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tmp <span class="keyword">values</span>  (<span class="number">0</span>,<span class="string">'gone'</span>), (<span class="number">1</span>,<span class="string">'xx'</span>),...(m,<span class="string">'yy'</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> test_tbl, tmp <span class="keyword">set</span> test_tbl.dr=tmp.dr <span class="keyword">where</span> test_tbl.id=tmp.id;</span><br></pre></td></tr></table></figure>

<p>注意：这种方法需要用户有temporary 表的create 权限。<br>下面是上述方法update 100000条数据的性能测试结果：</p>
<p>逐条update</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">real    0m15.557s</span><br><span class="line">user    0m1.684s</span><br><span class="line">sys    0m1.372s</span><br><span class="line"></span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">into</span></span><br><span class="line"><span class="built_in">real</span>    <span class="number">0</span>m1<span class="number">.394</span>s</span><br><span class="line"><span class="keyword">user</span>    <span class="number">0</span>m0<span class="number">.060</span>s</span><br><span class="line"><span class="keyword">sys</span>    <span class="number">0</span>m0<span class="number">.012</span>s</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">on</span> <span class="keyword">duplicate</span> <span class="keyword">key</span> <span class="keyword">update</span></span><br><span class="line"><span class="built_in">real</span>    <span class="number">0</span>m1<span class="number">.474</span>s</span><br><span class="line"><span class="keyword">user</span>    <span class="number">0</span>m0<span class="number">.052</span>s</span><br><span class="line"><span class="keyword">sys</span>    <span class="number">0</span>m0<span class="number">.008</span>s</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">temporary</span> <span class="keyword">table</span> <span class="keyword">and</span> <span class="keyword">update</span>:</span><br><span class="line"><span class="built_in">real</span>    <span class="number">0</span>m0<span class="number">.643</span>s</span><br><span class="line"><span class="keyword">user</span>    <span class="number">0</span>m0<span class="number">.064</span>s</span><br><span class="line"><span class="keyword">sys</span>    <span class="number">0</span>m0<span class="number">.004</span>s</span><br></pre></td></tr></table></figure>

<p>就测试结果来看，测试当时使用replace into性能较好。<br>replace into  和insert into on duplicate key update的不同在于：<br>replace into　操作本质是对重复的记录先delete 后insert，如果更新的字段不全会将缺失的字段置为缺省值<br>insert into 则是只update重复记录，不会改变其它字段。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$iii = implode(<span class="string">','</span>, array_keys($arr));       </span><br><span class="line"></span><br><span class="line">        $sql2 = <span class="string">"UPDATE ecs_wechat_user SET tag_id = CASE uid "</span>;</span><br><span class="line">        <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $key =&gt; $val) &#123;</span><br><span class="line">            <span class="comment">//WHEN %d THEN %d 字符串用s替代</span></span><br><span class="line">            <span class="comment">//$sql2 .= sprintf("WHEN %s THEN %s ", $key,$val); 这里是字符串 ，格式 1,3 会报错</span></span><br><span class="line">            $sql2 .= sprintf(<span class="string">"WHEN %s THEN %s "</span>, $key,<span class="string">"'$val'"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        $sql2 .= <span class="string">"END WHERE uid IN ($iii)"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $sql2;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 批量更新多字段</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> \think\db\exception\BindParamException</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> \think\exception\PDOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">updateAll</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BaseModel::instance()-&gt;startTrans();</span><br><span class="line">    $sql = <span class="string">"UPDATE lc_users "</span>;</span><br><span class="line">    $sql .= <span class="string">' SET name = CASE id '</span>;</span><br><span class="line">    $ageData = [];</span><br><span class="line">    $sexData = [];</span><br><span class="line">    $data = BaseModel::instance()-&gt;table(<span class="string">'lc_users'</span>)-&gt;select()-&gt;toArray();</span><br><span class="line">    <span class="keyword">foreach</span> ($data <span class="keyword">as</span> $key =&gt; $val) &#123;</span><br><span class="line">        $name = $val[<span class="string">'id'</span>] . <span class="string">":"</span> . date(<span class="string">'Y-m-d H:i:s'</span>);</span><br><span class="line">        $age = $val[<span class="string">'id'</span>] + rand(<span class="number">1</span>, <span class="number">9</span>);</span><br><span class="line">        $sex = rand(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">        $sql .= sprintf(<span class="string">" WHEN %s THEN %s "</span>, $val[<span class="string">'id'</span>], <span class="string">"'$name'"</span>);</span><br><span class="line">        $ageData[] = sprintf(<span class="string">" WHEN %s THEN %s "</span>, $val[<span class="string">'id'</span>], <span class="string">"'$age'"</span>);</span><br><span class="line">        $sexData[] = sprintf(<span class="string">" WHEN %s THEN %s "</span>, $val[<span class="string">'id'</span>], <span class="string">"'$sex'"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $sql .= <span class="string">" END, age = CASE id "</span> . implode(<span class="string">' '</span>, $ageData);</span><br><span class="line">    $sql .= <span class="string">" END, sex = CASE id "</span> . implode(<span class="string">' '</span>, $sexData);</span><br><span class="line">    $sql .= <span class="string">" END "</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ($counts = BaseModel::instance()-&gt;execute($sql) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        BaseModel::instance()-&gt;commit();</span><br><span class="line">        <span class="keyword">return</span> $sql;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    BaseModel::instance()-&gt;rollback();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/p/59db2d48/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="阿深">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="阿深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/p/59db2d48/" itemprop="url">Composer-常见问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-01-29T23:58:53+08:00">
                2016-01-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-git-bash下composer命令无法使用的问题"><a href="#1-git-bash下composer命令无法使用的问题" class="headerlink" title="1. git-bash下composer命令无法使用的问题"></a>1. git-bash下composer命令无法使用的问题</h3><p>已经安装composer，写好composer.bat，并且设置好了path，在cmd下可以正常使用，但是在git-bash里面不行，显示如下提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash: composer: command not found</span><br></pre></td></tr></table></figure>

<p>原因很可能是composer文件没有可执行权限，git-bash是以linux shell方式运行的，linux和windows文件权限管理方式不太一样。<br>切换到composer文件所在目录，执行如下命令修复权限：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 composer.bat</span><br></pre></td></tr></table></figure>

<p>可是我发现上面的命令没有效果，这就尴尬了……<br>其实真正的原因是，git-bash 不识别 composer.bat 文件，需要新建一个 composer 文件，输入如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env sh</span><br><span class="line"># php /path/to/composer.phar $*</span><br><span class="line">php `dirname $0`/composer.phar $*</span><br></pre></td></tr></table></figure>

<p>#!/usr/bin/env sh 有个这一行，git-bash 会自动识别为可执行文件，不需要也不能使用 chmod 命令修改权限。</p>
<h3 id="2-Installation-failed-reverting-composer-json-to-its-original-content"><a href="#2-Installation-failed-reverting-composer-json-to-its-original-content" class="headerlink" title="2. Installation failed, reverting ./composer.json to its original content."></a>2. Installation failed, reverting ./composer.json to its original content.</h3><p>解决</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer update nothing</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/head3.jpg" alt="阿深">
            
              <p class="site-author-name" itemprop="name">阿深</p>
              <p class="site-description motion-element" itemprop="description">阿深</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">阿深</span>

  
  <a href="http://www.beian.miit.gov.cn">粤ICP备15053509号</a>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
